gj.grid={plugins:{},messages:{}},gj.grid.config={base:{dataSource:void 0,columns:[],autoGenerateColumns:!1,defaultColumnSettings:{hidden:!1,width:void 0,sortable:!1,type:"text",title:void 0,field:void 0,align:void 0,cssClass:void 0,headerCssClass:void 0,tooltip:void 0,icon:void 0,events:void 0,format:"mm/dd/yyyy",decimalDigits:void 0,tmpl:void 0,stopPropagation:!1,renderer:void 0,filter:void 0},mapping:{dataField:"records",totalRecordsField:"total"},params:{},paramNames:{sortBy:"sortBy",direction:"direction"},uiLibrary:"materialdesign",iconsLibrary:"materialicons",selectionType:"single",selectionMethod:"basic",autoLoad:!0,notFoundText:void 0,width:void 0,minWidth:void 0,headerRowHeight:"fixed",bodyRowHeight:"autogrow",fontSize:void 0,primaryKey:void 0,locale:"en-us",defaultIconColumnWidth:70,defaultCheckBoxColumnWidth:70,style:{wrapper:"gj-grid-wrapper",table:"gj-grid gj-grid-md",loadingCover:"gj-grid-loading-cover",loadingText:"gj-grid-loading-text",header:{cell:void 0,sortable:"gj-cursor-pointer gj-unselectable"},content:{rowSelected:"gj-grid-md-select"}},icons:{asc:"▲",desc:"▼"}},bootstrap:{style:{wrapper:"gj-grid-wrapper",table:"gj-grid gj-grid-bootstrap gj-grid-bootstrap-3 table table-bordered table-hover",content:{rowSelected:"active"}},iconsLibrary:"glyphicons",defaultIconColumnWidth:34,defaultCheckBoxColumnWidth:36},bootstrap4:{style:{wrapper:"gj-grid-wrapper",table:"gj-grid gj-grid-bootstrap gj-grid-bootstrap-4 table table-bordered table-hover",content:{rowSelected:"active"}},defaultIconColumnWidth:42,defaultCheckBoxColumnWidth:44},materialicons:{icons:{asc:'<i class="gj-icon arrow-upward" />',desc:'<i class="gj-icon arrow-downward" />'}},fontawesome:{icons:{asc:'<i class="fa fa-sort-amount-asc" aria-hidden="true"></i>',desc:'<i class="fa fa-sort-amount-desc" aria-hidden="true"></i>'}},glyphicons:{icons:{asc:'<span class="glyphicon glyphicon-sort-by-alphabet" />',desc:'<span class="glyphicon glyphicon-sort-by-alphabet-alt" />'}}},gj.grid.events={beforeEmptyRowInsert:function($grid,$row){return $grid.triggerHandler("beforeEmptyRowInsert",[$row])},dataBinding:function($grid,records){return $grid.triggerHandler("dataBinding",[records])},dataBound:function($grid,records,totalRecords){return $grid.triggerHandler("dataBound",[records,totalRecords])},rowDataBound:function($grid,$row,id,record){return $grid.triggerHandler("rowDataBound",[$row,id,record])},cellDataBound:function($grid,$displayEl,id,column,record){return $grid.triggerHandler("cellDataBound",[$displayEl,id,column,record])},rowSelect:function($grid,$row,id,record){return $grid.triggerHandler("rowSelect",[$row,id,record])},rowUnselect:function($grid,$row,id,record){return $grid.triggerHandler("rowUnselect",[$row,id,record])},rowRemoving:function($grid,$row,id,record){return $grid.triggerHandler("rowRemoving",[$row,id,record])},destroying:function($grid){return $grid.triggerHandler("destroying")},columnHide:function($grid,column){return $grid.triggerHandler("columnHide",[column])},columnShow:function($grid,column){return $grid.triggerHandler("columnShow",[column])},initialized:function($grid){return $grid.triggerHandler("initialized")},dataFiltered:function($grid,records){return $grid.triggerHandler("dataFiltered",[records])}},gj.grid.methods={init:function(jsConfig){return gj.widget.prototype.init.call(this,jsConfig,"grid"),gj.grid.methods.initialize(this),this.data("autoLoad")&&this.reload(),this},getConfig:function(jsConfig,type){var config=gj.widget.prototype.getConfig.call(this,jsConfig,type);return gj.grid.methods.setDefaultColumnConfig(config.columns,config.defaultColumnSettings),config},setDefaultColumnConfig:function(columns,defaultColumnSettings){var column,i;if(columns&&columns.length)for(i=0;i<columns.length;i++)column=$.extend(!0,{},defaultColumnSettings),$.extend(!0,column,columns[i]),columns[i]=column},getHTMLConfig:function(){var result=gj.widget.prototype.getHTMLConfig.call(this);return result.columns=[],this.find("thead > tr > th").each(function(){var $el=$(this),title=$el.text(),config=gj.widget.prototype.getHTMLConfig.call($el);config.title=title,config.field||(config.field=title),config.events&&(config.events=gj.grid.methods.eventsParser(config.events)),result.columns.push(config)}),result},eventsParser:function(events){var result={},list,i,key,func,position;for(list=events.split(","),i=0;i<list.length;i++)position=list[i].indexOf(":"),position>0&&(key=$.trim(list[i].substr(0,position)),func=$.trim(list[i].substr(position+1,list[i].length)),result[key]=eval("window."+func));return result},initialize:function($grid){var data=$grid.data(),$wrapper=$grid.parent('div[data-role="wrapper"]');gj.grid.methods.localization(data),0===$wrapper.length?($wrapper=$('<div data-role="wrapper" />').addClass(data.style.wrapper),$grid.wrap($wrapper)):$wrapper.addClass(data.style.wrapper),data.width&&$grid.parent().css("width",data.width),data.minWidth&&$grid.css("min-width",data.minWidth),data.fontSize&&$grid.css("font-size",data.fontSize),"autogrow"===data.headerRowHeight&&$grid.addClass("autogrow-header-row"),"fixed"===data.bodyRowHeight&&$grid.addClass("fixed-body-rows"),$grid.addClass(data.style.table),"checkbox"===data.selectionMethod&&data.columns.splice(gj.grid.methods.getColumnPositionNotInRole($grid),0,{title:"",width:data.defaultCheckBoxColumnWidth,align:"center",type:"checkbox",role:"selectRow",events:{click:function(e){gj.grid.methods.setSelected($grid,e.data.id,$(this).closest("tr"))}},headerCssClass:"gj-grid-select-all",stopPropagation:!0}),0===$grid.children("tbody").length&&$grid.append($("<tbody/>")),gj.grid.methods.renderHeader($grid),gj.grid.methods.appendEmptyRow($grid,"&nbsp;"),gj.grid.events.initialized($grid)},localization:function(data){data.notFoundText||(data.notFoundText=gj.grid.messages[data.locale].NoRecordsFound)},renderHeader:function($grid){var data,columns,style,$thead,$row,$cell,$title,i,$checkAllBoxes;for(columns=(data=$grid.data()).columns,style=data.style.header,0===($thead=$grid.children("thead")).length&&($thead=$("<thead />"),$grid.prepend($thead)),$row=$('<tr data-role="caption" />'),i=0;i<columns.length;i+=1)$cell=$('<th data-field="'+(columns[i].field||"")+'" />'),columns[i].width?$cell.attr("width",columns[i].width):"checkbox"===columns[i].type&&$cell.attr("width",data.defaultIconColumnWidth),$cell.addClass(style.cell),columns[i].headerCssClass&&$cell.addClass(columns[i].headerCssClass),$cell.css("text-align",columns[i].align||"left"),"checkbox"===data.selectionMethod&&"multiple"===data.selectionType&&"checkbox"===columns[i].type&&"selectRow"===columns[i].role?(0===($checkAllBoxes=$cell.find('input[data-role="selectAll"]')).length&&($checkAllBoxes=$('<input type="checkbox" data-role="selectAll" />'),$cell.append($checkAllBoxes),$checkAllBoxes.checkbox({uiLibrary:data.uiLibrary})),$checkAllBoxes.off("click").on("click",function(){this.checked?$grid.selectAll():$grid.unSelectAll()})):($title=$('<div data-role="title"/>').html(void 0===columns[i].title?columns[i].field:columns[i].title),$cell.append($title),columns[i].sortable&&($title.addClass(style.sortable),$title.on("click",gj.grid.methods.createSortHandler($grid,columns[i])))),columns[i].hidden&&$cell.hide(),$row.append($cell);$thead.empty().append($row)},createSortHandler:function($grid,column){return function(){var data,params={};$grid.count()>0&&(params[(data=$grid.data()).paramNames.sortBy]=column.field,column.direction="asc"===column.direction?"desc":"asc",params[data.paramNames.direction]=column.direction,$grid.reload(params))}},updateHeader:function($grid){var $sortIcon,$cellTitle,data=$grid.data(),sortBy=data.params[data.paramNames.sortBy],direction=data.params[data.paramNames.direction];$grid.find('thead tr th [data-role="sorticon"]').remove(),sortBy&&(position=gj.grid.methods.getColumnPosition($grid.data("columns"),sortBy),position>-1&&($cellTitle=$grid.find("thead tr th:eq("+position+') div[data-role="title"]'),$sortIcon=$('<div data-role="sorticon" class="gj-unselectable" />').append("desc"===direction?data.icons.desc:data.icons.asc),$cellTitle.after($sortIcon)))},useHtmlDataSource:function($grid,data){var dataSource=[],i,j,$cells,record,$rows=$grid.find('tbody tr[data-role != "empty"]');for(i=0;i<$rows.length;i++){for($cells=$($rows[i]).find("td"),record={},j=0;j<$cells.length;j++)record[data.columns[j].field]=$($cells[j]).html();dataSource.push(record)}data.dataSource=dataSource},startLoading:function($grid){var $tbody,$cover,$loading,width,height,top,data;gj.grid.methods.stopLoading($grid),data=$grid.data(),0!==$grid.outerHeight()&&(width=($tbody=$grid.children("tbody")).outerWidth(!1),height=$tbody.outerHeight(!1),top=Math.abs($grid.parent().offset().top-$tbody.offset().top),$cover=$('<div data-role="loading-cover" />').addClass(data.style.loadingCover).css({width:width,height:height,top:top}),($loading=$('<div data-role="loading-text">'+gj.grid.messages[data.locale].Loading+"</div>").addClass(data.style.loadingText)).insertAfter($grid),$cover.insertAfter($grid),$loading.css({top:top+height/2-$loading.outerHeight(!1)/2,left:width/2-$loading.outerWidth(!1)/2}))},stopLoading:function($grid){$grid.parent().find('div[data-role="loading-cover"]').remove(),$grid.parent().find('div[data-role="loading-text"]').remove()},appendEmptyRow:function($grid,caption){var data,$row,$cell,$wrapper;data=$grid.data(),$row=$('<tr data-role="empty"/>'),($cell=$("<td/>").css({width:"100%","text-align":"center"})).attr("colspan",gj.grid.methods.countVisibleColumns($grid)),$wrapper=$("<div />").html(caption||data.notFoundText),$cell.append($wrapper),$row.append($cell),gj.grid.events.beforeEmptyRowInsert($grid,$row),$grid.append($row)},autoGenerateColumns:function($grid,records){var names,value,type,i,data=$grid.data();if(data.columns=[],records.length>0){for(names=Object.getOwnPropertyNames(records[0]),i=0;i<names.length;i++)type="text",(value=records[0][names[i]])&&("number"==typeof value?type="number":value.indexOf("/Date(")>-1&&(type="date")),data.columns.push({field:names[i],type:type});gj.grid.methods.setDefaultColumnConfig(data.columns,data.defaultColumnSettings)}gj.grid.methods.renderHeader($grid)},loadData:function($grid){var data,records,i,recLen,rowCount,$tbody,$rows,$row;for(data=$grid.data(),records=$grid.getAll(),gj.grid.events.dataBinding($grid,records),recLen=records.length,gj.grid.methods.stopLoading($grid),data.autoGenerateColumns&&gj.grid.methods.autoGenerateColumns($grid,records),$tbody=$grid.children("tbody"),"checkbox"===data.selectionMethod&&"multiple"===data.selectionType&&$grid.find('thead input[data-role="selectAll"]').prop("checked",!1),$tbody.children("tr").not('[data-role="row"]').remove(),0===recLen&&($tbody.empty(),gj.grid.methods.appendEmptyRow($grid)),rowCount=($rows=$tbody.children("tr")).length,i=0;i<rowCount;i++){if(!(i<recLen)){$tbody.find('tr[data-role="row"]:gt('+(i-1)+")").remove();break}$row=$rows.eq(i),gj.grid.methods.renderRow($grid,$row,records[i],i)}for(i=rowCount;i<recLen;i++)gj.grid.methods.renderRow($grid,null,records[i],i);gj.grid.events.dataBound($grid,records,data.totalRecords)},getId:function(record,primaryKey,position){return primaryKey&&record[primaryKey]?record[primaryKey]:position},renderRow:function($grid,$row,record,position){var id,$cell,i,data,mode;for(data=$grid.data(),$row&&0!==$row.length?(mode="update",$row.removeClass(data.style.content.rowSelected).removeAttr("data-selected").off("click")):(mode="create",$row=$('<tr data-role="row"/>'),$grid.children("tbody").append($row)),id=gj.grid.methods.getId(record,data.primaryKey,position+1),$row.attr("data-position",position+1),"checkbox"!==data.selectionMethod&&$row.on("click",gj.grid.methods.createRowClickHandler($grid,id)),i=0;i<data.columns.length;i++)"update"===mode?($cell=$row.find("td:eq("+i+")"),gj.grid.methods.renderCell($grid,$cell,data.columns[i],record,id)):($cell=gj.grid.methods.renderCell($grid,null,data.columns[i],record,id),$row.append($cell));gj.grid.events.rowDataBound($grid,$row,id,record)},renderCell:function($grid,$cell,column,record,id,mode){var $displayEl,key;if($cell&&0!==$cell.length?($displayEl=$cell.find('div[data-role="display"]'),mode="update"):($cell=$("<td/>"),$displayEl=$('<div data-role="display" />'),column.align&&$cell.css("text-align",column.align),column.cssClass&&$cell.addClass(column.cssClass),$cell.append($displayEl),mode="create"),gj.grid.methods.renderDisplayElement($grid,$displayEl,column,record,id,mode),"update"===mode&&($cell.off(),$displayEl.off()),column.events)for(key in column.events)column.events.hasOwnProperty(key)&&$cell.on(key,{id:id,field:column.field,record:record},gj.grid.methods.createCellEventHandler(column,column.events[key]));return column.hidden&&$cell.hide(),gj.grid.events.cellDataBound($grid,$displayEl,id,column,record),$cell},createCellEventHandler:function(column,func){return function(e){column.stopPropagation&&e.stopPropagation(),func.call(this,e)}},renderDisplayElement:function($grid,$displayEl,column,record,id,mode){var text,$checkbox;"checkbox"===column.type&&gj.checkbox?"create"===mode?($checkbox=$('<input type="checkbox" />').val(id).prop("checked",!!record[column.field]),column.role&&$checkbox.attr("data-role",column.role),$displayEl.append($checkbox),$checkbox.checkbox({uiLibrary:$grid.data("uiLibrary")}),"selectRow"===column.role?$checkbox.on("click",function(){return!1}):$checkbox.prop("disabled",!0)):$displayEl.find('input[type="checkbox"]').val(id).prop("checked",!!record[column.field]):"icon"===column.type?"create"===mode&&($displayEl.append($("<span/>").addClass(column.icon).css({cursor:"pointer"})),"bootstrap"===$grid.data().uiLibrary&&$displayEl.children("span").addClass("glyphicon"),column.stopPropagation=!0):column.tmpl?(text=column.tmpl,column.tmpl.replace(/\{(.+?)\}/g,function($0,$1){text=text.replace($0,gj.grid.methods.formatText(record[$1],column))}),$displayEl.html(text)):column.renderer&&"function"==typeof column.renderer?(text=column.renderer(record[column.field],record,$displayEl.parent(),$displayEl,id,$grid))&&$displayEl.html(text):(record[column.field]=gj.grid.methods.formatText(record[column.field],column),!column.tooltip&&record[column.field]&&$displayEl.attr("title",record[column.field]),$displayEl.html(record[column.field])),column.tooltip&&"create"===mode&&$displayEl.attr("title",column.tooltip)},formatText:function(text,column){return text=text&&["date","time","datetime"].indexOf(column.type)>-1?gj.core.formatDate(gj.core.parseDate(text,column.format),column.format):null==text?"":text.toString(),column.decimalDigits&&text&&(text=parseFloat(text).toFixed(column.decimalDigits)),text},setRecordsData:function($grid,response){var records=[],totalRecords=0,data=$grid.data();return $.isArray(response)?(records=response,totalRecords=response.length):data&&data.mapping&&$.isArray(response[data.mapping.dataField])&&(records=response[data.mapping.dataField],(totalRecords=response[data.mapping.totalRecordsField])&&!isNaN(totalRecords)||(totalRecords=0)),$grid.data("records",records),$grid.data("totalRecords",totalRecords),records},createRowClickHandler:function($grid,id){return function(){gj.grid.methods.setSelected($grid,id,$(this))}},selectRow:function($grid,data,$row,id){var $checkbox;return $row.addClass(data.style.content.rowSelected),$row.attr("data-selected","true"),"checkbox"===data.selectionMethod&&(($checkbox=$row.find('input[type="checkbox"][data-role="selectRow"]')).length&&!$checkbox.prop("checked")&&$checkbox.prop("checked",!0),"multiple"===data.selectionType&&$grid.getSelections().length===$grid.count(!1)&&$grid.find('thead input[data-role="selectAll"]').prop("checked",!0)),gj.grid.events.rowSelect($grid,$row,id,$grid.getById(id))},unselectRow:function($grid,data,$row,id){var $checkbox;if("true"===$row.attr("data-selected"))return $row.removeClass(data.style.content.rowSelected),"checkbox"===data.selectionMethod&&(($checkbox=$row.find('td input[type="checkbox"][data-role="selectRow"]')).length&&$checkbox.prop("checked")&&$checkbox.prop("checked",!1),"multiple"===data.selectionType&&$grid.find('thead input[data-role="selectAll"]').prop("checked",!1)),$row.removeAttr("data-selected"),gj.grid.events.rowUnselect($grid,$row,id,$grid.getById(id))},setSelected:function($grid,id,$row){var data=$grid.data();return $row&&$row.length||($row=gj.grid.methods.getRowById($grid,id)),$row&&("true"===$row.attr("data-selected")?gj.grid.methods.unselectRow($grid,data,$row,id):("single"===data.selectionType&&$row.siblings('[data-selected="true"]').each(function(){var $row=$(this),id=gj.grid.methods.getId($row,data.primaryKey,$row.data("position"));gj.grid.methods.unselectRow($grid,data,$row,id)}),gj.grid.methods.selectRow($grid,data,$row,id))),$grid},selectAll:function($grid){var data=$grid.data();return $grid.find('tbody tr[data-role="row"]').each(function(){var $row=$(this),position=$row.data("position"),record=$grid.get(position),id=gj.grid.methods.getId(record,data.primaryKey,position);gj.grid.methods.selectRow($grid,data,$row,id)}),$grid.find('thead input[data-role="selectAll"]').prop("checked",!0),$grid},unSelectAll:function($grid){var data=$grid.data();return $grid.find("tbody tr").each(function(){var $row=$(this),position=$row.data("position"),record=$grid.get(position),id=gj.grid.methods.getId(record,data.primaryKey,position);gj.grid.methods.unselectRow($grid,data,$row,id),$row.find('input[type="checkbox"][data-role="selectRow"]').prop("checked",!1)}),$grid.find('thead input[data-role="selectAll"]').prop("checked",!1),$grid},getSelected:function($grid){var result=null,selections,record,position;return(selections=$grid.find('tbody>tr[data-selected="true"]')).length>0&&(position=$(selections[0]).data("position"),record=$grid.get(position),result=gj.grid.methods.getId(record,$grid.data().primaryKey,position)),result},getSelectedRows:function($grid){var data=$grid.data();return $grid.find('tbody>tr[data-selected="true"]')},getSelections:function($grid){var result=[],position,record,data=$grid.data(),$selections=gj.grid.methods.getSelectedRows($grid);return 0<$selections.length&&$selections.each(function(){position=$(this).data("position"),record=$grid.get(position),result.push(gj.grid.methods.getId(record,data.primaryKey,position))}),result},getById:function($grid,id){var result=null,i,primaryKey=$grid.data("primaryKey"),records=$grid.data("records");if(primaryKey){for(i=0;i<records.length;i++)if(records[i][primaryKey]==id){result=records[i];break}}else result=$grid.get(id);return result},getRecVPosById:function($grid,id){var result=id,i,data=$grid.data();if(data.primaryKey)for(i=0;i<data.dataSource.length;i++)if(data.dataSource[i][data.primaryKey]==id){result=i;break}return result},getRowById:function($grid,id){var records=$grid.getAll(!1),primaryKey=$grid.data("primaryKey"),$result=void 0,position,i;if(primaryKey){for(i=0;i<records.length;i++)if(records[i][primaryKey]==id){position=i+1;break}}else position=id;return position&&($result=$grid.children("tbody").children('tr[data-position="'+position+'"]')),$result},getByPosition:function($grid,position){return $grid.getAll(!1)[position-1]},getColumnPosition:function(columns,field){var position=-1,i;for(i=0;i<columns.length;i++)if(columns[i].field===field){position=i;break}return position},getColumnInfo:function($grid,field){var i,result={},data=$grid.data();for(i=0;i<data.columns.length;i+=1)if(data.columns[i].field===field){result=data.columns[i];break}return result},getCell:function($grid,id,field){var position,$row,$result=null;return(position=gj.grid.methods.getColumnPosition($grid.data("columns"),field))>-1&&($result=($row=gj.grid.methods.getRowById($grid,id)).find("td:eq("+position+') div[data-role="display"]')),$result},setCellContent:function($grid,id,field,value){var column,$displayEl=gj.grid.methods.getCell($grid,id,field);$displayEl&&($displayEl.empty(),"object"==typeof value?$displayEl.append(value):(column=gj.grid.methods.getColumnInfo($grid,field),gj.grid.methods.renderDisplayElement($grid,$displayEl,column,$grid.getById(id),id,"update")))},clone:function(source){var target=[];return $.each(source,function(){target.push(this.clone())}),target},getAll:function($grid){return $grid.data("records")},countVisibleColumns:function($grid){var columns,count,i;for(columns=$grid.data().columns,count=0,i=0;i<columns.length;i++)!0!==columns[i].hidden&&count++;return count},clear:function($grid,showNotFoundText){var data=$grid.data();return $grid.xhr&&$grid.xhr.abort(),$grid.children("tbody").empty(),data.records=[],gj.grid.methods.stopLoading($grid),gj.grid.methods.appendEmptyRow($grid,showNotFoundText?data.notFoundText:"&nbsp;"),gj.grid.events.dataBound($grid,[],0),$grid},render:function($grid,response){return response&&(gj.grid.methods.setRecordsData($grid,response),gj.grid.methods.updateHeader($grid),gj.grid.methods.loadData($grid)),$grid},filter:function($grid){var field,column,data=$grid.data(),records=data.dataSource.slice();for(field in data.params[data.paramNames.sortBy]&&(column=gj.grid.methods.getColumnInfo($grid,data.params[data.paramNames.sortBy]),records.sort(column.sortable.sorter?column.sortable.sorter(column.direction,column):gj.grid.methods.createDefaultSorter(column.direction,column.field))),data.params)data.params[field]&&!data.paramNames[field]&&(column=gj.grid.methods.getColumnInfo($grid,field),records=$.grep(records,function(record){var value=record[field]||"",searchStr=data.params[field]||"";return column&&"function"==typeof column.filter?column.filter(value,searchStr):value.toUpperCase().indexOf(searchStr.toUpperCase())>-1}));return gj.grid.events.dataFiltered($grid,records),records},createDefaultSorter:function(direction,field){return function(recordA,recordB){var a=(recordA[field]||"").toString(),b=(recordB[field]||"").toString();return"asc"===direction?a.localeCompare(b):b.localeCompare(a)}},destroy:function($grid,keepTableTag,keepWrapperTag){var data;return $grid.data()&&(gj.grid.events.destroying($grid),gj.grid.methods.stopLoading($grid),$grid.xhr&&$grid.xhr.abort(),$grid.off(),!1===keepWrapperTag&&$grid.parent('div[data-role="wrapper"]').length>0&&$grid.unwrap(),$grid.removeData(),!1===keepTableTag?$grid.remove():$grid.removeClass().empty(),$grid.removeAttr("data-type")),$grid},showColumn:function($grid,field){var data=$grid.data(),position=gj.grid.methods.getColumnPosition(data.columns,field),$cells;return position>-1&&($grid.find("thead>tr").each(function(){$(this).children("th").eq(position).show()}),$.each($grid.find("tbody>tr"),function(){$(this).children("td").eq(position).show()}),data.columns[position].hidden=!1,($cells=$grid.find('tbody > tr[data-role="empty"] > td'))&&$cells.length&&$cells.attr("colspan",gj.grid.methods.countVisibleColumns($grid)),gj.grid.events.columnShow($grid,data.columns[position])),$grid},hideColumn:function($grid,field){var data=$grid.data(),position=gj.grid.methods.getColumnPosition(data.columns,field),$cells;return position>-1&&($grid.find("thead>tr").each(function(){$(this).children("th").eq(position).hide()}),$.each($grid.find("tbody>tr"),function(){$(this).children("td").eq(position).hide()}),data.columns[position].hidden=!0,($cells=$grid.find('tbody > tr[data-role="empty"] > td'))&&$cells.length&&$cells.attr("colspan",gj.grid.methods.countVisibleColumns($grid)),gj.grid.events.columnHide($grid,data.columns[position])),$grid},isLastRecordVisible:function(){return!0},addRow:function($grid,record){var data=$grid.data();return data.totalRecords=$grid.data("totalRecords")+1,gj.grid.events.dataBinding($grid,[record]),data.records.push(record),$.isArray(data.dataSource)&&data.dataSource.push(record),1===data.totalRecords&&$grid.children("tbody").empty(),gj.grid.methods.isLastRecordVisible($grid)&&gj.grid.methods.renderRow($grid,null,record,$grid.count()-1),gj.grid.events.dataBound($grid,[record],data.totalRecords),$grid},updateRow:function($grid,id,record){var $row=gj.grid.methods.getRowById($grid,id),data=$grid.data(),position;return data.records[$row.data("position")-1]=record,$.isArray(data.dataSource)&&(position=gj.grid.methods.getRecVPosById($grid,id),data.dataSource[position]=record),gj.grid.methods.renderRow($grid,$row,record,$row.index()),$grid},removeRow:function($grid,id){var position,data=$grid.data(),$row=gj.grid.methods.getRowById($grid,id);return gj.grid.events.rowRemoving($grid,$row,id,$grid.getById(id)),$.isArray(data.dataSource)&&(position=gj.grid.methods.getRecVPosById($grid,id),data.dataSource.splice(position,1)),$grid.reload(),$grid},count:function($grid,includeAllRecords){return includeAllRecords?$grid.data().totalRecords:$grid.getAll().length},getColumnPositionByRole:function($grid,role){var i,result,columns=$grid.data("columns");for(i=0;i<columns.length;i++)if(columns[i].role===role){result=i;break}return result},getColumnPositionNotInRole:function($grid){var i,result=0,columns=$grid.data("columns");for(i=0;i<columns.length;i++)if(!columns[i].role){result=i;break}return result}},gj.grid.widget=function($grid,jsConfig){var self=this,methods=gj.grid.methods;return this.reload=function(params){return methods.startLoading(this),gj.widget.prototype.reload.call(this,params)},this.clear=function(showNotFoundText){return methods.clear(this,showNotFoundText)},this.count=function(includeAllRecords){return methods.count(this,includeAllRecords)},this.render=function(response){return methods.render($grid,response)},this.destroy=function(keepTableTag,keepWrapperTag){return methods.destroy(this,keepTableTag,keepWrapperTag)},this.setSelected=function(id){return methods.setSelected(this,id)},this.getSelected=function(){return methods.getSelected(this)},this.getSelections=function(){return methods.getSelections(this)},this.selectAll=function(){return methods.selectAll(this)},this.unSelectAll=function(){return methods.unSelectAll(this)},this.getById=function(id){return methods.getById(this,id)},this.get=function(position){return methods.getByPosition(this,position)},this.getAll=function(includeAllRecords){return methods.getAll(this,includeAllRecords)},this.showColumn=function(field){return methods.showColumn(this,field)},this.hideColumn=function(field){return methods.hideColumn(this,field)},this.addRow=function(record){return methods.addRow(this,record)},this.updateRow=function(id,record){return methods.updateRow(this,id,record)},this.setCellContent=function(id,index,value){methods.setCellContent(this,id,index,value)},this.removeRow=function(id){return methods.removeRow(this,id)},$.extend($grid,this),"grid"!==$grid.attr("data-type")&&methods.init.call($grid,jsConfig),$grid},gj.grid.widget.prototype=new gj.widget,gj.grid.widget.constructor=gj.grid.widget,gj.grid.widget.prototype.getConfig=gj.grid.methods.getConfig,gj.grid.widget.prototype.getHTMLConfig=gj.grid.methods.getHTMLConfig,function($){$.fn.grid=function(method){var $widget;if(this&&this.length){if("object"!=typeof method&&method){if(($widget=new gj.grid.widget(this,null))[method])return $widget[method].apply(this,Array.prototype.slice.call(arguments,1));throw"Method "+method+" does not exist."}return new gj.grid.widget(this,method)}}}(jQuery),gj.grid.plugins.fixedHeader={config:{base:{fixedHeader:!1,height:300}},private:{init:function($grid){var data=$grid.data(),$tbody=$grid.children("tbody"),$thead=$grid.children("thead"),bodyHeight=data.height-$thead.outerHeight()-($grid.children("tfoot").outerHeight()||0);$grid.addClass("gj-grid-scrollable"),$tbody.css("width",$thead.outerWidth()),$tbody.height(bodyHeight)},refresh:function($grid){var i,width,data=$grid.data(),$tbody=$grid.children("tbody"),$thead=$grid.children("thead"),$tbodyCells=$grid.find('tbody tr[data-role="row"] td'),$theadCells=$grid.find('thead tr[data-role="caption"] th');for($grid.children("tbody").height()<gj.grid.plugins.fixedHeader.private.getRowsHeight($grid)?$tbody.css("width",$thead.outerWidth()+gj.grid.plugins.fixedHeader.private.getScrollBarWidth()+(navigator.userAgent.toLowerCase().indexOf("firefox")>-1?1:0)):$tbody.css("width",$thead.outerWidth()),i=0;i<$theadCells.length;i++)width=$($theadCells[i]).outerWidth(),0===i&&gj.core.isIE()&&(width-=1),$($tbodyCells[i]).attr("width",width)},getRowsHeight:function($grid){var total=0;return $grid.find("tbody tr").each(function(){total+=$(this).height()}),total},getScrollBarWidth:function(){var inner=document.createElement("p");inner.style.width="100%",inner.style.height="200px";var outer=document.createElement("div");outer.style.position="absolute",outer.style.top="0px",outer.style.left="0px",outer.style.visibility="hidden",outer.style.width="200px",outer.style.height="150px",outer.style.overflow="hidden",outer.appendChild(inner),document.body.appendChild(outer);var w1=inner.offsetWidth;outer.style.overflow="scroll";var w2=inner.offsetWidth;return w1==w2&&(w2=outer.clientWidth),document.body.removeChild(outer),w1-w2}},public:{},events:{},configure:function($grid,fullConfig,clientConfig){$.extend(!0,$grid,gj.grid.plugins.fixedHeader.public);var data=$grid.data();clientConfig.fixedHeader&&($grid.on("initialized",function(){gj.grid.plugins.fixedHeader.private.init($grid)}),$grid.on("dataBound",function(){gj.grid.plugins.fixedHeader.private.refresh($grid)}),$grid.on("resize",function(){gj.grid.plugins.fixedHeader.private.refresh($grid)}))}},gj.grid.plugins.expandCollapseRows={config:{base:{detailTemplate:void 0,keepExpandedRows:!0,expandedRows:[],icons:{expandRow:'<i class="gj-icon chevron-right" />',collapseRow:'<i class="gj-icon chevron-down" />'}},fontawesome:{icons:{expandRow:'<i class="fa fa-angle-right" aria-hidden="true"></i>',collapseRow:'<i class="fa fa-angle-down" aria-hidden="true"></i>'}},glyphicons:{icons:{expandRow:'<span class="glyphicon glyphicon-chevron-right" />',collapseRow:'<span class="glyphicon glyphicon-chevron-down" />'}}},private:{expandDetail:function($grid,$cell,id){var $contentRow=$cell.closest("tr"),$detailsRow=$('<tr data-role="details" />'),$detailsCell=$('<td colspan="'+gj.grid.methods.countVisibleColumns($grid)+'" />'),$detailsWrapper=$('<div data-role="display" />'),data=$grid.data(),position=$contentRow.data("position"),record=$grid.get(position),plugin=gj.grid.plugins.expandCollapseRows;void 0===typeof id&&(id=gj.grid.methods.getId(record,data.primaryKey,record)),$detailsRow.append($detailsCell.append($detailsWrapper.append($contentRow.data("details")))),$detailsRow.insertAfter($contentRow),$cell.children('div[data-role="display"]').empty().append(data.icons.collapseRow),$grid.updateDetails($contentRow),plugin.private.keepSelection($grid,id),plugin.events.detailExpand($grid,$detailsRow.find("td>div"),id)},collapseDetail:function($grid,$cell,id){var $contentRow,$detailsRow=$cell.closest("tr").next('tr[data-role="details"]'),data=$grid.data(),plugin=gj.grid.plugins.expandCollapseRows;void 0===typeof id&&(id=gj.grid.methods.getId(record,data.primaryKey,record)),$detailsRow.remove(),$cell.children('div[data-role="display"]').empty().append(data.icons.expandRow),plugin.private.removeSelection($grid,id),plugin.events.detailCollapse($grid,$detailsRow.find("td>div"),id)},keepSelection:function($grid,id){var data=$grid.data();data.keepExpandedRows&&($.isArray(data.expandedRows)?-1==data.expandedRows.indexOf(id)&&data.expandedRows.push(id):data.expandedRows=[id])},removeSelection:function($grid,id){var data=$grid.data();data.keepExpandedRows&&$.isArray(data.expandedRows)&&data.expandedRows.indexOf(id)>-1&&data.expandedRows.splice(data.expandedRows.indexOf(id),1)},updateDetailsColSpan:function($grid){var $cells=$grid.find('tbody > tr[data-role="details"] > td');$cells&&$cells.length&&$cells.attr("colspan",gj.grid.methods.countVisibleColumns($grid))}},public:{collapseAll:function(){var $grid=this,data=$grid.data(),position;return void 0!==data.detailTemplate&&(position=gj.grid.methods.getColumnPositionByRole($grid,"expander"),$grid.find('tbody tr[data-role="row"]').each(function(){gj.grid.plugins.expandCollapseRows.private.collapseDetail($grid,$(this).find("td:eq("+position+")"))})),void 0!==data.grouping&&$grid.find('tbody tr[role="group"]').each(function(){gj.grid.plugins.grouping.private.collapseGroup(data,$(this).find("td:eq(0)"))}),$grid},expandAll:function(){var $grid=this,data=$grid.data(),position;return void 0!==data.detailTemplate&&(position=gj.grid.methods.getColumnPositionByRole($grid,"expander"),$grid.find('tbody tr[data-role="row"]').each(function(){gj.grid.plugins.expandCollapseRows.private.expandDetail($grid,$(this).find("td:eq("+position+")"))})),void 0!==data.grouping&&$grid.find('tbody tr[role="group"]').each(function(){gj.grid.plugins.grouping.private.expandGroup(data,$(this).find("td:eq(0)"))}),$grid},updateDetails:function($contentRow){var $grid=this,$detailWrapper=$contentRow.data("details"),content=$detailWrapper.html(),record=$grid.get($contentRow.data("position"));return record&&content&&($detailWrapper.html().replace(/\{(.+?)\}/g,function($0,$1){var column=gj.grid.methods.getColumnInfo($grid,$1);content=content.replace($0,gj.grid.methods.formatText(record[$1],column))}),$detailWrapper.html(content)),$grid}},events:{detailExpand:function($grid,$detailWrapper,id){$grid.triggerHandler("detailExpand",[$detailWrapper,id])},detailCollapse:function($grid,$detailWrapper,id){$grid.triggerHandler("detailCollapse",[$detailWrapper,id])}},configure:function($grid){var column,data=$grid.data();$.extend(!0,$grid,gj.grid.plugins.expandCollapseRows.public),void 0!==data.detailTemplate&&(column={title:"",width:data.defaultIconColumnWidth,align:"center",stopPropagation:!0,cssClass:"gj-cursor-pointer gj-unselectable",tmpl:data.icons.expandRow,role:"expander",events:{click:function(e){var $cell=$(this),methods=gj.grid.plugins.expandCollapseRows.private;"details"===$cell.closest("tr").next().attr("data-role")?methods.collapseDetail($grid,$cell,e.data.id):methods.expandDetail($grid,$(this),e.data.id)}}},data.columns=[column].concat(data.columns),$grid.on("rowDataBound",function(e,$row,id,record){$row.data("details",$(data.detailTemplate))}),$grid.on("columnShow",function(e,column){gj.grid.plugins.expandCollapseRows.private.updateDetailsColSpan($grid)}),$grid.on("columnHide",function(e,column){gj.grid.plugins.expandCollapseRows.private.updateDetailsColSpan($grid)}),$grid.on("rowRemoving",function(e,$row,id,record){gj.grid.plugins.expandCollapseRows.private.collapseDetail($grid,$row.children("td").first(),id)}),$grid.on("dataBinding",function(){$grid.collapseAll()}),$grid.on("pageChanging",function(){$grid.collapseAll()}),$grid.on("dataBound",function(){var i,$cell,$row,position,data=$grid.data();if(data.keepExpandedRows&&$.isArray(data.expandedRows))for(i=0;i<data.expandedRows.length;i++)($row=gj.grid.methods.getRowById($grid,data.expandedRows[i]))&&$row.length&&(position=gj.grid.methods.getColumnPositionByRole($grid,"expander"),($cell=$row.children("td:eq("+position+")"))&&$cell.length&&gj.grid.plugins.expandCollapseRows.private.expandDetail($grid,$cell))}))}},gj.grid.plugins.inlineEditing={renderers:{editManager:function(value,record,$cell,$displayEl,id,$grid){var data=$grid.data(),$edit=$(data.inlineEditing.editButton).attr("key",id),$delete=$(data.inlineEditing.deleteButton).attr("key",id),$update=$(data.inlineEditing.updateButton).attr("key",id).hide(),$cancel=$(data.inlineEditing.cancelButton).attr("key",id).hide();$edit.on("click",function(e){$grid.edit($(this).attr("key"))}),$delete.on("click",function(e){$grid.removeRow($(this).attr("key"))}),$update.on("click",function(e){$grid.update($(this).attr("key"))}),$cancel.on("click",function(e){$grid.cancel($(this).attr("key"))}),$displayEl.empty().append($edit).append($delete).append($update).append($cancel)}}},gj.grid.plugins.inlineEditing.config={base:{defaultColumnSettings:{editor:void 0,editField:void 0,mode:"readEdit"},inlineEditing:{mode:"click",managementColumn:!0,managementColumnConfig:{width:300,role:"managementColumn",align:"center",renderer:gj.grid.plugins.inlineEditing.renderers.editManager,cssClass:"gj-grid-management-column"}}},bootstrap:{inlineEditing:{managementColumnConfig:{width:200,role:"managementColumn",align:"center",renderer:gj.grid.plugins.inlineEditing.renderers.editManager,cssClass:"gj-grid-management-column"}}},bootstrap4:{inlineEditing:{managementColumnConfig:{width:280,role:"managementColumn",align:"center",renderer:gj.grid.plugins.inlineEditing.renderers.editManager,cssClass:"gj-grid-management-column"}}}},gj.grid.plugins.inlineEditing.private={localization:function(data){"bootstrap"===data.uiLibrary?(data.inlineEditing.editButton='<button role="edit" class="btn btn-default btn-sm"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> '+gj.grid.messages[data.locale].Edit+"</button>",data.inlineEditing.deleteButton='<button role="delete" class="btn btn-default btn-sm gj-margin-left-10"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span> '+gj.grid.messages[data.locale].Delete+"</button>",data.inlineEditing.updateButton='<button role="update" class="btn btn-default btn-sm"><span class="glyphicon glyphicon-ok" aria-hidden="true"></span> '+gj.grid.messages[data.locale].Update+"</button>",data.inlineEditing.cancelButton='<button role="cancel" class="btn btn-default btn-sm gj-margin-left-10"><span class="glyphicon glyphicon-ban-circle" aria-hidden="true"></span> '+gj.grid.messages[data.locale].Cancel+"</button>"):(data.inlineEditing.editButton='<button role="edit" class="gj-button-md"><i class="gj-icon pencil" /> '+gj.grid.messages[data.locale].Edit.toUpperCase()+"</button>",data.inlineEditing.deleteButton='<button role="delete" class="gj-button-md"><i class="gj-icon delete" /> '+gj.grid.messages[data.locale].Delete.toUpperCase()+"</button>",data.inlineEditing.updateButton='<button role="update" class="gj-button-md"><i class="gj-icon check-circle" /> '+gj.grid.messages[data.locale].Update.toUpperCase()+"</button>",data.inlineEditing.cancelButton='<button role="cancel" class="gj-button-md"><i class="gj-icon cancel" /> '+gj.grid.messages[data.locale].Cancel.toUpperCase()+"</button>")},editMode:function($grid,$cell,column,record){var $displayContainer,$editorContainer,$editorField,value,config,data=$grid.data();if("edit"!==$cell.attr("data-mode"))if(column.editor){if(gj.grid.plugins.inlineEditing.private.updateOtherCells($grid,column.mode),$displayContainer=$cell.find('div[data-role="display"]').hide(),0===($editorContainer=$cell.find('div[data-role="edit"]').show()).length&&($editorContainer=$('<div data-role="edit" />'),$cell.append($editorContainer)),value=record[column.editField||column.field],($editorField=$editorContainer.find("input, select, textarea").first()).length)switch(column.type){case"checkbox":$editorField.prop("checked",value);break;case"dropdown":$editorField=$editorField.dropdown("value",value);break;default:$editorField.val(value)}else{if("function"==typeof column.editor)column.editor($editorContainer,value,record),$editorField=$editorContainer.find("input, select, textarea").first();else if((config="object"==typeof column.editor?column.editor:{}).uiLibrary=data.uiLibrary,config.iconsLibrary=data.iconsLibrary,config.fontSize=$grid.css("font-size"),config.showOnFocus=!1,"checkbox"===column.type&&gj.checkbox)$editorField=$('<input type="checkbox" />').prop("checked",value),$editorContainer.append($editorField),$editorField.checkbox(config);else if("date"===column.type&&gj.datepicker||"time"===column.type&&gj.timepicker||"datetime"===column.type&&gj.datetimepicker){switch($editorField=$('<input type="text" width="100%"/>'),$editorContainer.append($editorField),column.format&&(config.format=column.format),column.type){case"date":$editorField=$editorField.datepicker(config);break;case"time":$editorField=$editorField.timepicker(config);break;case"datetime":$editorField=$editorField.datetimepicker(config)}$editorField.value&&$editorField.value($displayContainer.html())}else"dropdown"===column.type&&gj.dropdown?($editorField=$('<select type="text" width="100%"/>'),$editorContainer.append($editorField),config.dataBound=function(e){var $dropdown=$(this).dropdown();column.editField?$dropdown.value(record[column.editField]):$dropdown.value(record[column.field])},$editorField=$editorField.dropdown(config)):($editorField=$('<input type="text" value="'+value+'" class="gj-width-full"/>'),"materialdesign"===data.uiLibrary&&$editorField.addClass("gj-textbox-md").css("font-size",$grid.css("font-size")),$editorContainer.append($editorField));"command"!==data.inlineEditing.mode&&"editOnly"!==column.mode&&($editorField=$editorContainer.find("input, select, textarea").first()).on("keyup",function(e){13!==e.keyCode&&27!==e.keyCode||gj.grid.plugins.inlineEditing.private.displayMode($grid,$cell,column)})}"INPUT"===$editorField.prop("tagName").toUpperCase()&&"TEXT"===$editorField.prop("type").toUpperCase()?gj.core.setCaretAtEnd($editorField[0]):$editorField.focus(),$cell.attr("data-mode","edit")}else"managementColumn"===column.role&&($cell.find('[role="edit"]').hide(),$cell.find('[role="delete"]').hide(),$cell.find('[role="update"]').show(),$cell.find('[role="cancel"]').show())},displayMode:function($grid,$cell,column,cancel){var $editorContainer,$displayContainer,$ele,newValue,newEditFieldValue,record,position,style="";"editOnly"!==column.mode&&("edit"===$cell.attr("data-mode")&&($editorContainer=$cell.find('div[data-role="edit"]'),$displayContainer=$cell.find('div[data-role="display"]'),"SELECT"===($ele=$editorContainer.find("input, select, textarea").first())[0].tagName.toUpperCase()&&$ele[0].selectedIndex>-1?(newValue=$ele[0].options[$ele[0].selectedIndex].innerHTML,newEditFieldValue=$ele[0].value):newValue="INPUT"===$ele[0].tagName.toUpperCase()&&"CHECKBOX"===$ele[0].type.toUpperCase()?$ele[0].checked:$ele.val(),position=$cell.parent().data("position"),record=$grid.get(position),!0!==cancel&&newValue!==record[column.field]&&(record[column.field]="date"===column.type?gj.core.parseDate(newValue,column.format):newValue,column.editField&&(record[column.editField]=newEditFieldValue||newValue),"editOnly"!==column.mode&&(gj.grid.methods.renderDisplayElement($grid,$displayContainer,column,record,gj.grid.methods.getId(record,$grid.data("primaryKey"),position),"update"),0===$cell.find("span.gj-dirty").length&&$cell.prepend($('<span class="gj-dirty" />'))),gj.grid.plugins.inlineEditing.events.cellDataChanged($grid,$cell,column,record,newValue),gj.grid.plugins.inlineEditing.private.updateChanges($grid,column,record,newValue)),$editorContainer.hide(),$displayContainer.show(),$cell.attr("data-mode","display")),"managementColumn"===column.role&&($cell.find('[role="update"]').hide(),$cell.find('[role="cancel"]').hide(),$cell.find('[role="edit"]').show(),$cell.find('[role="delete"]').show()))},updateOtherCells:function($grid,mode){var data=$grid.data();"command"!==data.inlineEditing.mode&&"editOnly"!==mode&&$grid.find('div[data-role="edit"]:visible').parent("td").each(function(){var $cell=$(this),column=data.columns[$cell.index()];gj.grid.plugins.inlineEditing.private.displayMode($grid,$cell,column)})},updateChanges:function($grid,column,sourceRecord,newValue){var targetRecords,filterResult,newRecord,data=$grid.data();data.guid||(data.guid=gj.grid.plugins.inlineEditing.private.generateGUID()),data.primaryKey&&((targetRecords=JSON.parse(sessionStorage.getItem("gj.grid."+data.guid)))?filterResult=targetRecords.filter(function(record){return record[data.primaryKey]===sourceRecord[data.primaryKey]}):targetRecords=[],filterResult&&1===filterResult.length?filterResult[0][column.field]=newValue:((newRecord={})[data.primaryKey]=sourceRecord[data.primaryKey],data.primaryKey!==column.field&&(newRecord[column.field]=newValue),targetRecords.push(newRecord)),sessionStorage.setItem("gj.grid."+data.guid,JSON.stringify(targetRecords)))},generateGUID:function(){function s4(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return s4()+s4()+"-"+s4()+"-"+s4()+"-"+s4()+"-"+s4()+s4()+s4()}},gj.grid.plugins.inlineEditing.public={getChanges:function(){return JSON.parse(sessionStorage.getItem("gj.grid."+this.data().guid))},edit:function(id){var i,record=this.getById(id),$cells=gj.grid.methods.getRowById(this,id).children("td"),columns=this.data("columns");for(i=0;i<$cells.length;i++)gj.grid.plugins.inlineEditing.private.editMode(this,$($cells[i]),columns[i],record);return this},update:function(id){var i,record=this.getById(id),$cells=gj.grid.methods.getRowById(this,id).children("td"),columns=this.data("columns");for(i=0;i<$cells.length;i++)gj.grid.plugins.inlineEditing.private.displayMode(this,$($cells[i]),columns[i],!1);return gj.grid.plugins.inlineEditing.events.rowDataChanged(this,id,record),this},cancel:function(id){var i,record=this.getById(id),$cells=gj.grid.methods.getRowById(this,id).children("td"),columns=this.data("columns");for(i=0;i<$cells.length;i++)gj.grid.plugins.inlineEditing.private.displayMode(this,$($cells[i]),columns[i],!0);return this}},gj.grid.plugins.inlineEditing.events={cellDataChanged:function($grid,$cell,column,record,oldValue,newValue){$grid.triggerHandler("cellDataChanged",[$cell,column,record,oldValue,newValue])},rowDataChanged:function($grid,id,record){$grid.triggerHandler("rowDataChanged",[id,record])}},gj.grid.plugins.inlineEditing.configure=function($grid,fullConfig,clientConfig){var data=$grid.data();$.extend(!0,$grid,gj.grid.plugins.inlineEditing.public),clientConfig.inlineEditing&&($grid.on("dataBound",function(){$grid.find("span.gj-dirty").remove()}),$grid.on("rowDataBound",function(e,$row,id,record){$grid.cancel(id)})),"command"===data.inlineEditing.mode?(gj.grid.plugins.inlineEditing.private.localization(data),fullConfig.inlineEditing.managementColumn&&data.columns.push(fullConfig.inlineEditing.managementColumnConfig)):$grid.on("cellDataBound",function(e,$displayEl,id,column,record){column.editor&&("editOnly"===column.mode?gj.grid.plugins.inlineEditing.private.editMode($grid,$displayEl.parent(),column,record):$displayEl.parent("td").on("dblclick"===data.inlineEditing.mode?"dblclick":"click",function(){gj.grid.plugins.inlineEditing.private.editMode($grid,$displayEl.parent(),column,record)}))})},gj.grid.plugins.optimisticPersistence={config:{base:{optimisticPersistence:{localStorage:void 0,sessionStorage:void 0}}},private:{applyParams:function($grid){var data=$grid.data(),params={},storage;(storage=JSON.parse(sessionStorage.getItem("gj.grid."+data.guid)))&&storage.optimisticPersistence&&$.extend(params,storage.optimisticPersistence),(storage=JSON.parse(localStorage.getItem("gj.grid."+data.guid)))&&storage.optimisticPersistence&&$.extend(params,storage.optimisticPersistence),$.extend(data.params,params)},saveParams:function($grid){var i,param,data=$grid.data(),storage={optimisticPersistence:{}};if(data.optimisticPersistence.sessionStorage){for(i=0;i<data.optimisticPersistence.sessionStorage.length;i++)param=data.optimisticPersistence.sessionStorage[i],storage.optimisticPersistence[param]=data.params[param];storage=$.extend(!0,JSON.parse(sessionStorage.getItem("gj.grid."+data.guid)),storage),sessionStorage.setItem("gj.grid."+data.guid,JSON.stringify(storage))}if(data.optimisticPersistence.localStorage){for(storage={optimisticPersistence:{}},i=0;i<data.optimisticPersistence.localStorage.length;i++)param=data.optimisticPersistence.localStorage[i],storage.optimisticPersistence[param]=data.params[param];storage=$.extend(!0,JSON.parse(localStorage.getItem("gj.grid."+data.guid)),storage),localStorage.setItem("gj.grid."+data.guid,JSON.stringify(storage))}}},configure:function($grid,fullConfig,clientConfig){fullConfig.guid&&(fullConfig.optimisticPersistence.localStorage||fullConfig.optimisticPersistence.sessionStorage)&&(gj.grid.plugins.optimisticPersistence.private.applyParams($grid),$grid.on("dataBound",function(e){gj.grid.plugins.optimisticPersistence.private.saveParams($grid)}))}},gj.grid.plugins.pagination={config:{base:{style:{pager:{panel:"",stateDisabled:"",activeButton:""}},paramNames:{page:"page",limit:"limit"},pager:{limit:10,sizes:[5,10,20,100],leftControls:void 0,rightControls:void 0}},bootstrap:{style:{pager:{panel:"",stateDisabled:""}}},bootstrap4:{style:{pager:{panel:"btn-toolbar",stateDisabled:""}}},glyphicons:{icons:{first:'<span class="glyphicon glyphicon-step-backward"></span>',previous:'<span class="glyphicon glyphicon-backward"></span>',next:'<span class="glyphicon glyphicon-forward"></span>',last:'<span class="glyphicon glyphicon-step-forward"></span>',refresh:'<span class="glyphicon glyphicon-refresh"></span>'}},materialicons:{icons:{first:'<i class="gj-icon first-page" />',previous:'<i class="gj-icon chevron-left" />',next:'<i class="gj-icon chevron-right" />',last:'<i class="gj-icon last-page" />',refresh:'<i class="gj-icon refresh" />'}},fontawesome:{icons:{first:'<i class="fa fa-fast-backward" aria-hidden="true"></i>',previous:'<i class="fa fa-backward" aria-hidden="true"></i>',next:'<i class="fa fa-forward" aria-hidden="true"></i>',last:'<i class="fa fa-fast-forward" aria-hidden="true"></i>',refresh:'<i class="fa fa-refresh" aria-hidden="true"></i>'}}},private:{init:function($grid){var $row,$cell,data,controls,$leftPanel,$rightPanel,$tfoot,leftControls,rightControls,i;if((data=$grid.data()).pager)for(data.params[data.paramNames.page]||(data.params[data.paramNames.page]=1),data.params[data.paramNames.limit]||(data.params[data.paramNames.limit]=data.pager.limit),gj.grid.plugins.pagination.private.localization(data),$row=$('<tr data-role="pager"/>'),$cell=$("<th/>"),$row.append($cell),$leftPanel=$('<div data-role="display" />').addClass(data.style.pager.panel).css({float:"left"}),$rightPanel=$('<div data-role="display" />').addClass(data.style.pager.panel).css({float:"right"}),$cell.append($leftPanel).append($rightPanel),$tfoot=$("<tfoot />").append($row),$grid.append($tfoot),gj.grid.plugins.pagination.private.updatePagerColSpan($grid),leftControls=gj.grid.methods.clone(data.pager.leftControls),$.each(leftControls,function(){$leftPanel.append(this)}),rightControls=gj.grid.methods.clone(data.pager.rightControls),$.each(rightControls,function(){$rightPanel.append(this)}),controls=$grid.find("tfoot [data-role]"),i=0;i<controls.length;i++)gj.grid.plugins.pagination.private.initPagerControl($(controls[i]),$grid)},localization:function(data){"bootstrap"===data.uiLibrary?gj.grid.plugins.pagination.private.localizationBootstrap(data):"bootstrap4"===data.uiLibrary?gj.grid.plugins.pagination.private.localizationBootstrap4(data):gj.grid.plugins.pagination.private.localizationMaterialDesign(data)},localizationBootstrap:function(data){var msg=gj.grid.messages[data.locale];void 0===data.pager.leftControls&&(data.pager.leftControls=[$('<button type="button" class="btn btn-default btn-sm">'+(data.icons.first||msg.First)+"</button>").attr("title",msg.FirstPageTooltip).attr("data-role","page-first"),$('<button type="button" class="btn btn-default btn-sm">'+(data.icons.previous||msg.Previous)+"</button>").attr("title",msg.PreviousPageTooltip).attr("data-role","page-previous"),$("<div>"+msg.Page+"</div>"),$('<input data-role="page-number" class="form-control input-sm" type="text" value="0">'),$("<div>"+msg.Of+"</div>"),$('<div data-role="page-label-last">0</div>'),$('<button type="button" class="btn btn-default btn-sm">'+(data.icons.next||msg.Next)+"</button>").attr("title",msg.NextPageTooltip).attr("data-role","page-next"),$('<button type="button" class="btn btn-default btn-sm">'+(data.icons.last||msg.Last)+"</button>").attr("title",msg.LastPageTooltip).attr("data-role","page-last"),$('<button type="button" class="btn btn-default btn-sm">'+(data.icons.refresh||msg.Refresh)+"</button>").attr("title",msg.Refresh).attr("data-role","page-refresh"),$('<select data-role="page-size" class="form-control input-sm" width="60"></select>')]),void 0===data.pager.rightControls&&(data.pager.rightControls=[$("<div>"+msg.DisplayingRecords+"</div>"),$('<div data-role="record-first">0</div>'),$("<div>-</div>"),$('<div data-role="record-last">0</div>'),$("<div>"+msg.Of+"</div>"),$('<div data-role="record-total">0</div>')])},localizationBootstrap4:function(data){var msg=gj.grid.messages[data.locale];void 0===data.pager.leftControls&&(data.pager.leftControls=[$('<button class="btn btn-default btn-sm gj-cursor-pointer">'+(data.icons.first||msg.First)+"</button>").attr("title",msg.FirstPageTooltip).attr("data-role","page-first"),$('<button class="btn btn-default btn-sm gj-cursor-pointer">'+(data.icons.previous||msg.Previous)+"</button>").attr("title",msg.PreviousPageTooltip).attr("data-role","page-previous"),$("<div>"+msg.Page+"</div>"),$('<div class="input-group"><input data-role="page-number" class="form-control form-control-sm" type="text" value="0"></div>'),$("<div>"+msg.Of+"</div>"),$('<div data-role="page-label-last">0</div>'),$('<button class="btn btn-default btn-sm gj-cursor-pointer">'+(data.icons.next||msg.Next)+"</button>").attr("title",msg.NextPageTooltip).attr("data-role","page-next"),$('<button class="btn btn-default btn-sm gj-cursor-pointer">'+(data.icons.last||msg.Last)+"</button>").attr("title",msg.LastPageTooltip).attr("data-role","page-last"),$('<button class="btn btn-default btn-sm gj-cursor-pointer">'+(data.icons.refresh||msg.Refresh)+"</button>").attr("title",msg.Refresh).attr("data-role","page-refresh"),$('<select data-role="page-size" class="form-control input-sm" width="60"></select>')]),void 0===data.pager.rightControls&&(data.pager.rightControls=[$("<div>"+msg.DisplayingRecords+"&nbsp;</div>"),$('<div data-role="record-first">0</div>'),$("<div>-</div>"),$('<div data-role="record-last">0</div>'),$("<div>"+msg.Of+"</div>"),$('<div data-role="record-total">0</div>')])},localizationMaterialDesign:function(data){var msg=gj.grid.messages[data.locale];void 0===data.pager.leftControls&&(data.pager.leftControls=[]),void 0===data.pager.rightControls&&(data.pager.rightControls=[$('<span class="">'+msg.RowsPerPage+"</span>"),$('<select data-role="page-size" class="gj-grid-md-limit-select" width="52"></select></div>'),$('<span class="gj-md-spacer-32">&nbsp;</span>'),$('<span data-role="record-first" class="">0</span>'),$('<span class="">-</span>'),$('<span data-role="record-last" class="">0</span>'),$('<span class="gj-grid-mdl-pager-label">'+msg.Of+"</span>"),$('<span data-role="record-total" class="">0</span>'),$('<span class="gj-md-spacer-32">&nbsp;</span>'),$('<button class="gj-button-md">'+(data.icons.previous||msg.Previous)+"</button>").attr("title",msg.PreviousPageTooltip).attr("data-role","page-previous").addClass(data.icons.first?"gj-button-md-icon":""),$('<span class="gj-md-spacer-24">&nbsp;</span>'),$('<button class="gj-button-md">'+(data.icons.next||msg.Next)+"</button>").attr("title",msg.NextPageTooltip).attr("data-role","page-next").addClass(data.icons.first?"gj-button-md-icon":"")])},initPagerControl:function($control,$grid){var data=$grid.data();switch($control.data("role")){case"page-size":data.pager.sizes&&0<data.pager.sizes.length?($control.show(),$.each(data.pager.sizes,function(){$control.append($("<option/>").attr("value",this.toString()).text(this.toString()))}),$control.change(function(){var newSize=parseInt(this.value,10);data.params[data.paramNames.limit]=newSize,gj.grid.plugins.pagination.private.changePage($grid,1),gj.grid.plugins.pagination.events.pageSizeChange($grid,newSize)}),$control.val(data.params[data.paramNames.limit]),gj.dropdown&&$control.dropdown({uiLibrary:data.uiLibrary,iconsLibrary:data.iconsLibrary,fontSize:$control.css("font-size"),style:{presenter:"btn btn-default btn-sm"}})):$control.hide();break;case"page-refresh":$control.on("click",function(){$grid.reload()})}},reloadPager:function($grid,totalRecords){var page,limit,lastPage,firstRecord,lastRecord,data,controls,i;if((data=$grid.data()).pager){for(page=0===totalRecords?0:parseInt(data.params[data.paramNames.page],10),limit=parseInt(data.params[data.paramNames.limit],10),lastPage=Math.ceil(totalRecords/limit),lastRecord=(firstRecord=0===page?0:limit*(page-1)+1)+limit>totalRecords?totalRecords:firstRecord+limit-1,controls=$grid.find("TFOOT [data-role]"),i=0;i<controls.length;i++)gj.grid.plugins.pagination.private.reloadPagerControl($(controls[i]),$grid,page,lastPage,firstRecord,lastRecord,totalRecords);gj.grid.plugins.pagination.private.updatePagerColSpan($grid)}},reloadPagerControl:function($control,$grid,page,lastPage,firstRecord,lastRecord,totalRecords){var newPage;switch($control.data("role")){case"page-first":gj.grid.plugins.pagination.private.assignPageHandler($grid,$control,1,page<2);break;case"page-previous":gj.grid.plugins.pagination.private.assignPageHandler($grid,$control,page-1,page<2);break;case"page-number":$control.val(page).off("change").on("change",gj.grid.plugins.pagination.private.createChangePageHandler($grid,page));break;case"page-label-last":$control.text(lastPage);break;case"page-next":gj.grid.plugins.pagination.private.assignPageHandler($grid,$control,page+1,lastPage===page);break;case"page-last":gj.grid.plugins.pagination.private.assignPageHandler($grid,$control,lastPage,lastPage===page);break;case"page-button-one":newPage=1===page?1:page==lastPage?page-2:page-1,gj.grid.plugins.pagination.private.assignButtonHandler($grid,$control,page,newPage,lastPage);break;case"page-button-two":newPage=1===page?2:page==lastPage?lastPage-1:page,gj.grid.plugins.pagination.private.assignButtonHandler($grid,$control,page,newPage,lastPage);break;case"page-button-three":newPage=1===page?page+2:page==lastPage?page:page+1,gj.grid.plugins.pagination.private.assignButtonHandler($grid,$control,page,newPage,lastPage);break;case"record-first":$control.text(firstRecord);break;case"record-last":$control.text(lastRecord);break;case"record-total":$control.text(totalRecords)}},assignPageHandler:function($grid,$control,newPage,disabled){var style=$grid.data().style.pager;disabled?$control.addClass(style.stateDisabled).prop("disabled",!0).off("click"):$control.removeClass(style.stateDisabled).prop("disabled",!1).off("click").on("click",function(){gj.grid.plugins.pagination.private.changePage($grid,newPage)})},assignButtonHandler:function($grid,$control,page,newPage,lastPage){var style=$grid.data().style.pager;newPage<1||newPage>lastPage?$control.hide():($control.show().off("click").text(newPage),newPage===page?$control.addClass(style.activeButton):$control.removeClass(style.activeButton).on("click",function(){gj.grid.plugins.pagination.private.changePage($grid,newPage)}))},createChangePageHandler:function($grid,currentPage){return function(){var data=$grid.data(),newPage=parseInt(this.value,10);gj.grid.plugins.pagination.private.changePage($grid,newPage)}},changePage:function($grid,newPage){var data=$grid.data();!1===gj.grid.plugins.pagination.events.pageChanging($grid,newPage)||isNaN(newPage)||($grid.find('TFOOT [data-role="page-number"]').val(newPage),data.params[data.paramNames.page]=newPage),$grid.reload()},updatePagerColSpan:function($grid){var $cell=$grid.find('tfoot > tr[data-role="pager"] > th');$cell&&$cell.length&&$cell.attr("colspan",gj.grid.methods.countVisibleColumns($grid))},isLastRecordVisible:function($grid){var result=!0,data=$grid.data(),limit=parseInt(data.params[data.paramNames.limit],10),page=parseInt(data.params[data.paramNames.page],10),count=$grid.count();return limit&&page&&(result=(page-1)*limit+count===data.totalRecords),result}},public:{getAll:function(includeAllRecords){var limit,page,start,data=this.data();return $.isArray(data.dataSource)?includeAllRecords?data.dataSource:data.params[data.paramNames.limit]&&data.params[data.paramNames.page]?(limit=parseInt(data.params[data.paramNames.limit],10),start=((page=parseInt(data.params[data.paramNames.page],10))-1)*limit,data.records.slice(start,start+limit)):data.records:data.records}},events:{pageSizeChange:function($grid,newSize){$grid.triggerHandler("pageSizeChange",[newSize])},pageChanging:function($grid,newSize){$grid.triggerHandler("pageChanging",[newSize])}},configure:function($grid,fullConfig,clientConfig){$.extend(!0,$grid,gj.grid.plugins.pagination.public);var data=$grid.data();clientConfig.pager&&(gj.grid.methods.isLastRecordVisible=gj.grid.plugins.pagination.private.isLastRecordVisible,$grid.on("initialized",function(){gj.grid.plugins.pagination.private.init($grid)}),$grid.on("dataBound",function(e,records,totalRecords){gj.grid.plugins.pagination.private.reloadPager($grid,totalRecords)}),$grid.on("columnShow",function(){gj.grid.plugins.pagination.private.updatePagerColSpan($grid)}),$grid.on("columnHide",function(){gj.grid.plugins.pagination.private.updatePagerColSpan($grid)}))}},gj.grid.plugins.responsiveDesign={config:{base:{resizeCheckInterval:500,responsive:!1,showHiddenColumnsAsDetails:!1,defaultColumn:{priority:void 0,minWidth:250},style:{rowDetailItem:""}},bootstrap:{style:{rowDetailItem:"col-lg-4"}}},private:{orderColumns:function(config){var result=[];if(config.columns&&config.columns.length){for(i=0;i<config.columns.length;i++)result.push({position:i,field:config.columns[i].field,minWidth:config.columns[i].width||config.columns[i].minWidth||config.defaultColumn.minWidth,priority:config.columns[i].priority||0});result.sort(function(a,b){var result=0;return a.priority<b.priority?result=-1:a.priority>b.priority&&(result=1),result})}return result},updateDetails:function($grid){var rows,data,i,j,$row,details,$placeholder,column,tmp;for(rows=$grid.find('tbody > tr[data-role="row"]'),data=$grid.data(),i=0;i<rows.length;i++){for(details=($row=$(rows[i])).data("details"),j=0;j<data.columns.length;j++)column=data.columns[j],$placeholder=details&&details.find('div[data-id="'+column.field+'"]'),data.columns[j].hidden?(tmp="<b>"+(column.title||column.field)+"</b>: {"+column.field+"}",$placeholder&&$placeholder.length?$placeholder.empty().html(tmp):(($placeholder=$('<div data-id="'+column.field+'"/>').html(tmp)).addClass(data.style.rowDetailItem),details&&details.length||(details=$('<div class="row"/>')),details.append($placeholder))):$placeholder&&$placeholder.length&&$placeholder.remove();$grid.updateDetails($row)}}},public:{oldWidth:void 0,resizeCheckIntervalId:void 0,makeResponsive:function(){var i,$column,extraWidth=0,config=this.data(),columns=gj.grid.plugins.responsiveDesign.private.orderColumns(config);for(i=0;i<columns.length;i++)($column=this.find("thead>tr>th:eq("+columns[i].position+")")).is(":visible")&&columns[i].minWidth<$column.width()&&(extraWidth+=$column.width()-columns[i].minWidth);if(extraWidth)for(i=0;i<columns.length;i++)!($column=this.find("thead>tr>th:eq("+columns[i].position+")")).is(":visible")&&columns[i].minWidth<=extraWidth&&(this.showColumn(columns[i].field),extraWidth-=$column.width());for(i=columns.length-1;i>=0;i--)($column=this.find("thead>tr>th:eq("+columns[i].position+")")).is(":visible")&&columns[i].priority&&columns[i].minWidth>$column.outerWidth()&&this.hideColumn(columns[i].field);return this}},events:{resize:function($grid,newWidth,oldWidth){$grid.triggerHandler("resize",[newWidth,oldWidth])}},configure:function($grid,fullConfig,clientConfig){$.extend(!0,$grid,gj.grid.plugins.responsiveDesign.public),fullConfig.responsive&&($grid.on("initialized",function(){$grid.makeResponsive(),$grid.oldWidth=$grid.width(),$grid.resizeCheckIntervalId=setInterval(function(){var newWidth=$grid.width();newWidth!==$grid.oldWidth&&gj.grid.plugins.responsiveDesign.events.resize($grid,newWidth,$grid.oldWidth),$grid.oldWidth=newWidth},fullConfig.resizeCheckInterval)}),$grid.on("destroy",function(){$grid.resizeCheckIntervalId&&clearInterval($grid.resizeCheckIntervalId)}),$grid.on("resize",function(){$grid.makeResponsive()})),fullConfig.showHiddenColumnsAsDetails&&gj.grid.plugins.expandCollapseRows&&($grid.on("dataBound",function(){gj.grid.plugins.responsiveDesign.private.updateDetails($grid)}),$grid.on("columnHide",function(){gj.grid.plugins.responsiveDesign.private.updateDetails($grid)}),$grid.on("columnShow",function(){gj.grid.plugins.responsiveDesign.private.updateDetails($grid)}),$grid.on("rowDataBound",function(){gj.grid.plugins.responsiveDesign.private.updateDetails($grid)}))}},gj.grid.plugins.toolbar={config:{base:{toolbarTemplate:void 0,title:void 0,style:{toolbar:"gj-grid-md-toolbar"}},bootstrap:{style:{toolbar:"gj-grid-bootstrap-toolbar"}},bootstrap4:{style:{toolbar:"gj-grid-bootstrap-4-toolbar"}}},private:{init:function($grid){var data,$toolbar,$title;data=$grid.data(),$toolbar=$grid.prev('div[data-role="toolbar"]'),(void 0!==data.toolbarTemplate||void 0!==data.title||$toolbar.length>0)&&(0===$toolbar.length&&($toolbar=$('<div data-role="toolbar"></div>'),$grid.before($toolbar)),$toolbar.addClass(data.style.toolbar),0===$toolbar.children().length&&data.toolbarTemplate&&$toolbar.append(data.toolbarTemplate),0===($title=$toolbar.find('[data-role="title"]')).length&&($title=$('<div data-role="title"/>'),$toolbar.prepend($title)),data.title&&$title.text(data.title),data.minWidth&&$toolbar.css("min-width",data.minWidth))}},public:{title:function(text){var $titleEl=this.parent().find('div[data-role="toolbar"] [data-role="title"]');return void 0!==text?($titleEl.text(text),this):$titleEl.text()}},configure:function($grid){$.extend(!0,$grid,gj.grid.plugins.toolbar.public),$grid.on("initialized",function(){gj.grid.plugins.toolbar.private.init($grid)}),$grid.on("destroying",function(){$grid.prev('[data-role="toolbar"]').remove()})}},gj.grid.plugins.resizableColumns={config:{base:{resizableColumns:!1}},private:{init:function($grid,config){var $columns,$column,i,$wrapper,$resizer,marginRight;if(($columns=$grid.find('thead tr[data-role="caption"] th')).length){for(i=0;i<$columns.length-1;i++)$column=$($columns[i]),$wrapper=$('<div class="gj-grid-column-resizer-wrapper" />'),marginRight=parseInt($column.css("padding-right"),10)+3,($resizer=$('<span class="gj-grid-column-resizer" />').css("margin-right","-"+marginRight+"px")).draggable({start:function(){$grid.addClass("gj-unselectable"),$grid.addClass("gj-grid-resize-cursor")},stop:function(){$grid.removeClass("gj-unselectable"),$grid.removeClass("gj-grid-resize-cursor"),this.style.removeProperty("top"),this.style.removeProperty("left"),this.style.removeProperty("position")},drag:gj.grid.plugins.resizableColumns.private.createResizeHandle($grid,$column,config.columns[i])}),$column.append($wrapper.append($resizer));for(i=0;i<$columns.length;i++)($column=$($columns[i])).attr("width")||$column.attr("width",$column.outerWidth())}},createResizeHandle:function($grid,$column,column){var data=$grid.data();return function(e,newPosition){var i,index,rows,cell,newWidth,nextWidth,currentWidth=parseInt($column.attr("width"),10),position=gj.core.position(this),offset_top=newPosition.top-position.top,offset_left=newPosition.left-position.left;if(currentWidth||(currentWidth=$column.outerWidth()),offset_left&&(newWidth=currentWidth+offset_left,column.width=newWidth,$column.attr("width",newWidth),index=$column[0].cellIndex,cell=$column[0].parentElement.children[index+1],nextWidth=parseInt($(cell).attr("width"),10)-offset_left,cell.setAttribute("width",nextWidth),data.resizableColumns))for(rows=$grid[0].tBodies[0].children,i=0;i<rows.length;i++)rows[i].cells[index].setAttribute("width",newWidth),(cell=rows[i].cells[index+1]).setAttribute("width",nextWidth)}}},public:{},configure:function($grid,fullConfig,clientConfig){$.extend(!0,$grid,gj.grid.plugins.resizableColumns.public),fullConfig.resizableColumns&&gj.draggable&&$grid.on("initialized",function(){gj.grid.plugins.resizableColumns.private.init($grid,fullConfig)})}},gj.grid.plugins.rowReorder={config:{base:{rowReorder:!1,rowReorderColumn:void 0,orderNumberField:void 0,style:{targetRowIndicatorTop:"gj-grid-row-reorder-indicator-top",targetRowIndicatorBottom:"gj-grid-row-reorder-indicator-bottom"}}},private:{init:function($grid){var i,columnPosition,$row,$rows=$grid.find('tbody tr[data-role="row"]');for($grid.data("rowReorderColumn")&&(columnPosition=gj.grid.methods.getColumnPosition($grid.data("columns"),$grid.data("rowReorderColumn"))),i=0;i<$rows.length;i++)$row=$($rows[i]),void 0!==columnPosition?$row.find("td:eq("+columnPosition+")").on("mousedown",gj.grid.plugins.rowReorder.private.createRowMouseDownHandler($grid,$row)):$row.on("mousedown",gj.grid.plugins.rowReorder.private.createRowMouseDownHandler($grid,$row))},createRowMouseDownHandler:function($grid,$trSource){return function(e){var $dragEl=$grid.clone(),columns=$grid.data("columns"),i,$cells;for($grid.addClass("gj-unselectable"),$("body").append($dragEl),$dragEl.attr("data-role","draggable-clone").css("cursor","move"),$dragEl.children("thead").remove().children("tfoot").remove(),$dragEl.find('tbody tr:not([data-position="'+$trSource.data("position")+'"])').remove(),$cells=$dragEl.find("tbody tr td"),i=0;i<$cells.length;i++)columns[i].width&&$cells[i].setAttribute("width",columns[i].width);$dragEl.draggable({stop:gj.grid.plugins.rowReorder.private.createDragStopHandler($grid,$trSource)}),$dragEl.css({position:"absolute",top:$trSource.offset().top,left:$trSource.offset().left,width:$trSource.width(),zIndex:1}),"true"===$trSource.attr("data-droppable")&&$trSource.droppable("destroy"),$trSource.siblings('tr[data-role="row"]').each(function(){var $dropEl=$(this);"true"===$dropEl.attr("data-droppable")&&$dropEl.droppable("destroy"),$dropEl.droppable({over:gj.grid.plugins.rowReorder.private.createDroppableOverHandler($trSource),out:gj.grid.plugins.rowReorder.private.droppableOut})}),$dragEl.trigger("mousedown")}},createDragStopHandler:function($grid,$trSource){return function(e,mousePosition){$('table[data-role="draggable-clone"]').draggable("destroy").remove(),$grid.removeClass("gj-unselectable"),$trSource.siblings('tr[data-role="row"]').each(function(){var $trTarget=$(this),targetPosition=$trTarget.data("position"),sourcePosition=$trSource.data("position"),data=$grid.data(),$rows,$row,i,record,id;if($trTarget.droppable("isOver",mousePosition)){for(targetPosition<sourcePosition?$trTarget.before($trSource):$trTarget.after($trSource),data.records.splice(targetPosition-1,0,data.records.splice(sourcePosition-1,1)[0]),$rows=$trTarget.parent().find('tr[data-role="row"]'),i=0;i<$rows.length;i++)$($rows[i]).attr("data-position",i+1);if(data.orderNumberField){for(i=0;i<data.records.length;i++)data.records[i][data.orderNumberField]=i+1;for(i=0;i<$rows.length;i++)$row=$($rows[i]),id=gj.grid.methods.getId($row,data.primaryKey,$row.attr("data-position")),record=gj.grid.methods.getByPosition($grid,$row.attr("data-position")),$grid.setCellContent(id,data.orderNumberField,record[data.orderNumberField])}}$trTarget.removeClass("gj-grid-top-border"),$trTarget.removeClass("gj-grid-bottom-border"),$trTarget.droppable("destroy")})}},createDroppableOverHandler:function($trSource){return function(e){var $trTarget=$(this),targetPosition,sourcePosition;$trTarget.data("position")<$trSource.data("position")?$trTarget.addClass("gj-grid-top-border"):$trTarget.addClass("gj-grid-bottom-border")}},droppableOut:function(){$(this).removeClass("gj-grid-top-border"),$(this).removeClass("gj-grid-bottom-border")}},public:{},configure:function($grid,fullConfig,clientConfig){$.extend(!0,$grid,gj.grid.plugins.rowReorder.public),fullConfig.rowReorder&&gj.draggable&&gj.droppable&&$grid.on("dataBound",function(){gj.grid.plugins.rowReorder.private.init($grid)})}},gj.grid.plugins.export={config:{base:{}},public:{getCSV:function(includeAllRecords){var i,j,line="",str="",columns=this.data().columns,records=this.getAll(includeAllRecords);if(records.length){for(i=0;i<columns.length;i++)gj.grid.plugins.export.public.isColumnApplicable(columns[i])&&(line+='"'+(columns[i].title||columns[i].field).replace(/<[^>]+>/g," ")+'",');for(str+=line.slice(0,line.length-1)+"\r\n",i=0;i<records.length;i++){for(line="",j=0;j<columns.length;j++)gj.grid.plugins.export.public.isColumnApplicable(columns[j])&&(line+='"'+records[i][columns[j].field]+'",');str+=line.slice(0,line.length-1)+"\r\n"}}return str},downloadCSV:function(filename,includeAllRecords){var link=document.createElement("a");return document.body.appendChild(link),link.download=filename||"griddata.csv",window.navigator.userAgent.indexOf("Edge")>-1?link.href=URL.createObjectURL(new Blob([this.getCSV(includeAllRecords)],{type:"text/csv;charset=utf-8;"})):link.href="data:text/csv;charset=utf-8,"+escape(this.getCSV(includeAllRecords)),link.click(),document.body.removeChild(link),this},isColumnApplicable:function(column){return!0!==column.hidden&&!column.role}},configure:function($grid){$.extend(!0,$grid,gj.grid.plugins.export.public)}},gj.grid.plugins.columnReorder={config:{base:{columnReorder:!1,dragReady:!1,style:{targetRowIndicatorTop:"gj-grid-row-reorder-indicator-top",targetRowIndicatorBottom:"gj-grid-row-reorder-indicator-bottom"}}},private:{init:function($grid){var i,$cell,$cells=$grid.find("thead tr th");for(i=0;i<$cells.length;i++)($cell=$($cells[i])).on("mousedown",gj.grid.plugins.columnReorder.private.createMouseDownHandler($grid,$cell)),$cell.on("mousemove",gj.grid.plugins.columnReorder.private.createMouseMoveHandler($grid,$cell)),$cell.on("mouseup",gj.grid.plugins.columnReorder.private.createMouseUpHandler($grid,$cell))},createMouseDownHandler:function($grid){return function(e){$grid.timeout=setTimeout(function(){$grid.data("dragReady",!0)},100)}},createMouseUpHandler:function($grid){return function(e){clearTimeout($grid.timeout),$grid.data("dragReady",!1)}},createMouseMoveHandler:function($grid,$thSource){return function(e){var $dragEl,srcIndex;$grid.data("dragReady")&&($grid.data("dragReady",!1),$dragEl=$grid.clone(),srcIndex=$thSource.index(),$grid.addClass("gj-unselectable"),$("body").append($dragEl),$dragEl.attr("data-role","draggable-clone").css("cursor","move"),$dragEl.find("thead tr th:eq("+srcIndex+")").siblings().remove(),$dragEl.find('tbody tr[data-role != "row"]').remove(),$dragEl.find("tbody tr td:nth-child("+(srcIndex+1)+")").siblings().remove(),$dragEl.find("tfoot").remove(),$dragEl.draggable({stop:gj.grid.plugins.columnReorder.private.createDragStopHandler($grid,$thSource)}),$dragEl.css({position:"absolute",top:$thSource.offset().top,left:$thSource.offset().left,width:$thSource.width(),zIndex:1}),"true"===$thSource.attr("data-droppable")&&$thSource.droppable("destroy"),$thSource.siblings("th").each(function(){var $dropEl=$(this);"true"===$dropEl.attr("data-droppable")&&$dropEl.droppable("destroy"),$dropEl.droppable({over:gj.grid.plugins.columnReorder.private.createDroppableOverHandler($grid,$thSource),out:gj.grid.plugins.columnReorder.private.droppableOut})}),$dragEl.trigger("mousedown"))}},createDragStopHandler:function($grid,$thSource){return function(e,mousePosition){$('table[data-role="draggable-clone"]').draggable("destroy").remove(),$grid.removeClass("gj-unselectable"),$thSource.siblings("th").each(function(){var $thTarget=$(this),data=$grid.data(),targetPosition=gj.grid.methods.getColumnPosition(data.columns,$thTarget.data("field")),sourcePosition=gj.grid.methods.getColumnPosition(data.columns,$thSource.data("field"));$thTarget.removeClass("gj-grid-left-border").removeClass("gj-grid-right-border"),$thTarget.closest("table").find('tbody tr[data-role="row"] td:nth-child('+($thTarget.index()+1)+")").removeClass("gj-grid-left-border").removeClass("gj-grid-right-border"),$thTarget.droppable("isOver",mousePosition)&&(targetPosition<sourcePosition?$thTarget.before($thSource):$thTarget.after($thSource),gj.grid.plugins.columnReorder.private.moveRowCells($grid,sourcePosition,targetPosition),data.columns.splice(targetPosition,0,data.columns.splice(sourcePosition,1)[0])),$thTarget.droppable("destroy")})}},moveRowCells:function($grid,sourcePosition,targetPosition){var i,$row,$rows=$grid.find('tbody tr[data-role="row"]');for(i=0;i<$rows.length;i++)$row=$($rows[i]),targetPosition<sourcePosition?$row.find("td:eq("+targetPosition+")").before($row.find("td:eq("+sourcePosition+")")):$row.find("td:eq("+targetPosition+")").after($row.find("td:eq("+sourcePosition+")"))},createDroppableOverHandler:function($grid,$thSource){return function(e){var $thTarget=$(this),data=$grid.data(),targetPosition,sourcePosition;gj.grid.methods.getColumnPosition(data.columns,$thTarget.data("field"))<gj.grid.methods.getColumnPosition(data.columns,$thSource.data("field"))?($thTarget.addClass("gj-grid-left-border"),$grid.find('tbody tr[data-role="row"] td:nth-child('+($thTarget.index()+1)+")").addClass("gj-grid-left-border")):($thTarget.addClass("gj-grid-right-border"),$grid.find('tbody tr[data-role="row"] td:nth-child('+($thTarget.index()+1)+")").addClass("gj-grid-right-border"))}},droppableOut:function(){var $thTarget=$(this);$thTarget.removeClass("gj-grid-left-border").removeClass("gj-grid-right-border"),$thTarget.closest("table").find('tbody tr[data-role="row"] td:nth-child('+($thTarget.index()+1)+")").removeClass("gj-grid-left-border").removeClass("gj-grid-right-border")}},public:{},configure:function($grid,fullConfig,clientConfig){$.extend(!0,$grid,gj.grid.plugins.columnReorder.public),fullConfig.columnReorder&&$grid.on("initialized",function(){gj.grid.plugins.columnReorder.private.init($grid)})}},gj.grid.plugins.headerFilter={config:{base:{defaultColumnSettings:{filterable:!0},headerFilter:{type:"onenterkeypress"}}},private:{init:function($grid){var i,$th,$ctrl,data=$grid.data(),$filterTr=$('<tr data-role="filter"/>');for(i=0;i<data.columns.length;i++)$th=$("<th/>"),data.columns[i].filterable&&($ctrl=$('<input data-field="'+data.columns[i].field+'" class="gj-width-full" />'),"onchange"===data.headerFilter.type?$ctrl.on("input propertychange",function(e){gj.grid.plugins.headerFilter.private.reload($grid,$(this))}):($ctrl.on("keypress",function(e){13==e.which&&gj.grid.plugins.headerFilter.private.reload($grid,$(this))}),$ctrl.on("blur",function(e){gj.grid.plugins.headerFilter.private.reload($grid,$(this))})),$th.append($ctrl)),data.columns[i].hidden&&$th.hide(),$filterTr.append($th);$grid.children("thead").append($filterTr)},reload:function($grid,$ctrl){var params={};params[$ctrl.data("field")]=$ctrl.val(),$grid.reload(params)}},public:{},events:{},configure:function($grid,fullConfig,clientConfig){$.extend(!0,$grid,gj.grid.plugins.headerFilter.public);var data=$grid.data();clientConfig.headerFilter&&$grid.on("initialized",function(){gj.grid.plugins.headerFilter.private.init($grid)})}},gj.grid.plugins.grouping={config:{base:{paramNames:{groupBy:"groupBy",groupByDirection:"groupByDirection"},grouping:{groupBy:void 0,direction:"asc"},icons:{expandGroup:'<i class="gj-icon plus" />',collapseGroup:'<i class="gj-icon minus" />'}},fontawesome:{icons:{expandGroup:'<i class="fa fa-plus" aria-hidden="true"></i>',collapseGroup:'<i class="fa fa-minus" aria-hidden="true"></i>'}},glyphicons:{icons:{expandGroup:'<span class="glyphicon glyphicon-plus" />',collapseGroup:'<span class="glyphicon glyphicon-minus" />'}}},private:{init:function($grid){var previousValue,data=$grid.data();previousValue=void 0,$grid.on("rowDataBound",function(e,$row,id,record){if(previousValue!==record[data.grouping.groupBy]||1===$row[0].rowIndex){var colspan=gj.grid.methods.countVisibleColumns($grid)-1,$groupRow=$('<tr role="group" />'),$expandCollapseCell=$('<td class="gj-text-align-center gj-unselectable gj-cursor-pointer" />');$expandCollapseCell.append('<div data-role="display">'+data.icons.collapseGroup+"</div>"),$expandCollapseCell.on("click",gj.grid.plugins.grouping.private.createExpandCollapseHandler(data)),$groupRow.append($expandCollapseCell),$groupRow.append('<td colspan="'+colspan+'"><div data-role="display">'+data.grouping.groupBy+": "+record[data.grouping.groupBy]+"</div></td>"),$groupRow.insertBefore($row),previousValue=record[data.grouping.groupBy]}$row.show()}),data.params[data.paramNames.groupBy]=data.grouping.groupBy,data.params[data.paramNames.groupByDirection]=data.grouping.direction},grouping:function($grid,records){var data=$grid.data();records.sort(gj.grid.methods.createDefaultSorter(data.grouping.direction,data.grouping.groupBy))},createExpandCollapseHandler:function(data){return function(e){var $cell=$(this),methods=gj.grid.plugins.grouping.private;"row"===$cell.closest("tr").next(":visible").data("role")?methods.collapseGroup(data,$cell):methods.expandGroup(data,$cell)}},collapseGroup:function(data,$cell){var $display=$cell.children('div[data-role="display"]'),$groupRow;$cell.closest("tr").nextUntil('[role="group"]').hide(),$display.empty().append(data.icons.expandGroup)},expandGroup:function(data,$cell){var $display=$cell.children('div[data-role="display"]'),$groupRow;$cell.closest("tr").nextUntil('[role="group"]').show(),$display.empty().append(data.icons.collapseGroup)}},public:{},configure:function($grid){var column,data=$grid.data();$.extend(!0,$grid,gj.grid.plugins.grouping.public),data.grouping&&data.grouping.groupBy&&(column={title:"",width:data.defaultIconColumnWidth,align:"center",stopPropagation:!0,cssClass:"gj-cursor-pointer gj-unselectable"},data.columns=[column].concat(data.columns),$grid.on("initialized",function(){gj.grid.plugins.grouping.private.init($grid)}),$grid.on("dataFiltered",function(e,records){gj.grid.plugins.grouping.private.grouping($grid,records)}))}},gj.grid.messages["en-us"]={First:"First",Previous:"Previous",Next:"Next",Last:"Last",Page:"Page",FirstPageTooltip:"First Page",PreviousPageTooltip:"Previous Page",NextPageTooltip:"Next Page",LastPageTooltip:"Last Page",Refresh:"Refresh",Of:"of",DisplayingRecords:"Displaying records",RowsPerPage:"Rows per page:",Edit:"Edit",Delete:"Delete",Update:"Update",Cancel:"Cancel",NoRecordsFound:"No records found.",Loading:"Loading..."},gj.grid.messages["bg-bg"]={First:"Първа",Previous:"Предишна",Next:"Следваща",Last:"Последна",Page:"Страница",FirstPageTooltip:"Първа Страница",PreviousPageTooltip:"Предишна Страница",NextPageTooltip:"Следваща Страница",LastPageTooltip:"Последна Страница",Refresh:"Презареждане",Of:"от",DisplayingRecords:"Паказани записи",RowsPerPage:"Редове на страница:",Edit:"Редактиране",Delete:"Изтриване",Update:"Актуализация",Cancel:"Отказ",NoRecordsFound:"Няма намерени записи.",Loading:"Зареждане..."},gj.grid.messages["fr-fr"]={First:"Premier",Previous:"Précédent",Next:"Prochain",Last:"Dernier",Page:"Page",FirstPageTooltip:"Première page",PreviousPageTooltip:"Page précédente",NextPageTooltip:"Page suivante",LastPageTooltip:"Dernière page",Refresh:"Rafraîchir",Of:"de",DisplayingRecords:"Résultats",RowsPerPage:"Lignes par page:",Edit:"Modifier",Delete:"Effacer",Update:"Mettre à jour",Cancel:"Annuler",NoRecordsFound:"Aucun enregistrement trouvé.",Loading:"Chargement..."},gj.grid.messages["de-de"]={First:"Erste",Previous:"Vorherige",Next:"Nächste",Last:"Letzte",Page:"Seite",FirstPageTooltip:"Erste Seite",PreviousPageTooltip:"Vorherige Seite",NextPageTooltip:"Nächste Seite",LastPageTooltip:"Letzte Seite",Refresh:"Aktualisieren",Of:"von",DisplayingRecords:"Zeige Datensätze",RowsPerPage:"Zeilen pro Seite:",Edit:"Editieren",Delete:"Löschen",Update:"Aktualisieren",Cancel:"Abbrechen",NoRecordsFound:"Es wurden keine Datensätze gefunden.",Loading:"Laden..."},gj.grid.messages["pt-br"]={First:"Primeiro",Previous:"Anterior",Next:"Próximo",Last:"Último",Page:"Página",FirstPageTooltip:"Primeira página",PreviousPageTooltip:"Página anterior",NextPageTooltip:"Próxima página",LastPageTooltip:"Última Página",Refresh:"Atualizar",Of:"de",DisplayingRecords:"Mostrando registros",RowsPerPage:"Linhas por página:",Edit:"Editar",Delete:"Excluir",Update:"Alterar",Cancel:"Cancelar",NoRecordsFound:"Nenhum registro encontrado.",Loading:"Carregando..."},gj.grid.messages["ru-ru"]={First:"Первый",Previous:"Предыдущий",Next:"Следующий",Last:"Последний",Page:"Страница",FirstPageTooltip:"Первая страница",PreviousPageTooltip:"Предыдущая страница",NextPageTooltip:"Следущая страница",LastPageTooltip:"Последняя страница",Refresh:"Обновить",Of:"от",DisplayingRecords:"Показать записи",RowsPerPage:"Записей на странице:",Edit:"Изменить",Delete:"Удалить",Update:"Обновить",Cancel:"Отмена",NoRecordsFound:"Нет ни одной записи.",Loading:"Загрузка..."},gj.grid.messages["es-es"]={First:"Primero",Previous:"Anterior",Next:"Siguiente",Last:"Último",Page:"Página",FirstPageTooltip:"Primera página",PreviousPageTooltip:"Página anterior",NextPageTooltip:"Página siguiente",LastPageTooltip:"Última página",Refresh:"Refrescar",Of:"de",DisplayingRecords:"Resultados",RowsPerPage:"Lineas por página:",Edit:"Modificar",Delete:"Eliminar",Update:"Actualizar",Cancel:"Cancelar",NoRecordsFound:"No se encontraron registros.",Loading:"Cargando..."},gj.grid.messages["it-it"]={First:"Primo",Previous:"Precedente",Next:"Successivo",Last:"Ultimo",Page:"Pagina",FirstPageTooltip:"Prima pagina",PreviousPageTooltip:"Pagina precedente",NextPageTooltip:"Pagina successiva",LastPageTooltip:"Ultima pagina",Refresh:"Aggiorna",Of:"di",DisplayingRecords:"Risultati",RowsPerPage:"Righe per pagina:",Edit:"Modifica",Delete:"Cancella",Update:"Aggiorna",Cancel:"Annulla",NoRecordsFound:"Nessun record trovato.",Loading:"Caricamento..."},gj.grid.messages["tr-tr"]={First:"İlk",Previous:"Önceki",Next:"Sonraki",Last:"Son",Page:"Sayfa",FirstPageTooltip:"İlk sayfa",PreviousPageTooltip:"Önceki sayfa",NextPageTooltip:"Sonraki sayfa",LastPageTooltip:"Son sayfa",Refresh:"Yenile",Of:"üzerinden",DisplayingRecords:"Sonuçlar",RowsPerPage:"Lignes par page:",Edit:"Düzenle",Delete:"Sil",Update:"Güncelle",Cancel:"İptal",NoRecordsFound:"Kayıt Yok.",Loading:"Yükleniyor..."},gj.grid.messages["ja-jp"]={First:"最初",Previous:"前",Next:"次",Last:"最後",Page:"ページ",FirstPageTooltip:"最初のページ",PreviousPageTooltip:"前のページ",NextPageTooltip:"次のページ",LastPageTooltip:"最後のページ",Refresh:"リフレッシュ",Of:"の",DisplayingRecords:"結果",RowsPerPage:"ページあたり行数:",Edit:"編集",Delete:"削除",Update:"更新",Cancel:"キャンセル",NoRecordsFound:"レコードが見つかりません",Loading:"読み込み中..."},gj.grid.messages["zh-cn"]={First:"首",Previous:"上一个",Next:"下一个",Last:"尾",Page:"页",FirstPageTooltip:"首页",PreviousPageTooltip:"上一页",NextPageTooltip:"下一页",LastPageTooltip:"尾页",Refresh:"刷新",Of:"的",DisplayingRecords:"正在显示记录",RowsPerPage:"行每页",Edit:"编辑",Delete:"删除",Update:"更新",Cancel:"取消",NoRecordsFound:"找不到记录。",Loading:"正在加载……"},gj.grid.messages["zh-tw"]={First:"首",Previous:"上一個",Next:"下一個",Last:"尾",Page:"頁",FirstPageTooltip:"首頁",PreviousPageTooltip:"上一頁",NextPageTooltip:"下一頁",LastPageTooltip:"尾頁",Refresh:"刷新",Of:"的",DisplayingRecords:"正在顯示記錄",RowsPerPage:"行每頁",Edit:"編輯",Delete:"刪除",Update:"更新",Cancel:"取消",NoRecordsFound:"找不到記錄。",Loading:"正在加載……"};