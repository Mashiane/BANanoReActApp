gj.datepicker={plugins:{}},gj.datepicker.config={base:{showOtherMonths:!1,selectOtherMonths:!0,width:void 0,minDate:void 0,maxDate:void 0,format:"mm/dd/yyyy",uiLibrary:"materialdesign",iconsLibrary:"materialicons",value:void 0,weekStartDay:0,disableDates:void 0,disableDaysOfWeek:void 0,calendarWeeks:!1,keyboardNavigation:!0,locale:"en-us",icons:{rightIcon:'<i class="gj-icon">event</i>',previousMonth:'<i class="gj-icon chevron-left"></i>',nextMonth:'<i class="gj-icon chevron-right"></i>'},fontSize:void 0,size:"default",modal:!1,header:!1,footer:!1,showOnFocus:!0,showRightIcon:!0,style:{modal:"gj-modal",wrapper:"gj-datepicker gj-datepicker-md gj-unselectable",input:"gj-textbox-md",calendar:"gj-picker gj-picker-md datepicker gj-unselectable",footer:"",button:"gj-button-md"}},bootstrap:{style:{wrapper:"gj-datepicker gj-datepicker-bootstrap gj-unselectable input-group",input:"form-control",calendar:"gj-picker gj-picker-bootstrap datepicker gj-unselectable",footer:"modal-footer",button:"btn btn-default"},iconsLibrary:"glyphicons",showOtherMonths:!0},bootstrap4:{style:{wrapper:"gj-datepicker gj-datepicker-bootstrap gj-unselectable input-group",input:"form-control",calendar:"gj-picker gj-picker-bootstrap datepicker gj-unselectable",footer:"modal-footer",button:"btn btn-default"},showOtherMonths:!0},fontawesome:{icons:{rightIcon:'<i class="fa fa-calendar" aria-hidden="true"></i>',previousMonth:'<i class="fa fa-chevron-left" aria-hidden="true"></i>',nextMonth:'<i class="fa fa-chevron-right" aria-hidden="true"></i>'}},glyphicons:{icons:{rightIcon:'<span class="glyphicon glyphicon-calendar"></span>',previousMonth:'<span class="glyphicon glyphicon-chevron-left"></span>',nextMonth:'<span class="glyphicon glyphicon-chevron-right"></span>'}}},gj.datepicker.methods={init:function(jsConfig){return gj.widget.prototype.init.call(this,jsConfig,"datepicker"),this.attr("data-datepicker","true"),gj.datepicker.methods.initialize(this,this.data()),this},initialize:function($datepicker,data){var $calendar,$rightIcon,$wrapper=$datepicker.parent('div[role="wrapper"]');0===$wrapper.length?($wrapper=$('<div role="wrapper" />').addClass(data.style.wrapper),$datepicker.wrap($wrapper)):$wrapper.addClass(data.style.wrapper),$wrapper=$datepicker.parent('div[role="wrapper"]'),data.width&&$wrapper.css("width",data.width),$datepicker.val(data.value).addClass(data.style.input).attr("role","input"),data.fontSize&&$datepicker.css("font-size",data.fontSize),"bootstrap"===data.uiLibrary||"bootstrap4"===data.uiLibrary?"small"===data.size?($wrapper.addClass("input-group-sm"),$datepicker.addClass("form-control-sm")):"large"===data.size&&($wrapper.addClass("input-group-lg"),$datepicker.addClass("form-control-lg")):"small"===data.size?$wrapper.addClass("small"):"large"===data.size&&$wrapper.addClass("large"),data.showRightIcon&&(($rightIcon="bootstrap"===data.uiLibrary?$('<span class="input-group-addon">'+data.icons.rightIcon+"</span>"):"bootstrap4"===data.uiLibrary?$('<span class="input-group-append"><button class="btn btn-outline-secondary border-left-0" type="button">'+data.icons.rightIcon+"</button></span>"):$(data.icons.rightIcon)).attr("role","right-icon"),$rightIcon.on("click",function(e){var $calendar;$("body").find('[role="calendar"][guid="'+$datepicker.attr("data-guid")+'"]').is(":visible")?gj.datepicker.methods.close($datepicker):gj.datepicker.methods.open($datepicker,data)}),$wrapper.append($rightIcon)),data.showOnFocus&&$datepicker.on("focus",function(){gj.datepicker.methods.open($datepicker,data)}),$calendar=gj.datepicker.methods.createCalendar($datepicker,data),!0!==data.footer&&($datepicker.on("blur",function(){$datepicker.timeout=setTimeout(function(){gj.datepicker.methods.close($datepicker)},500)}),$calendar.mousedown(function(){return clearTimeout($datepicker.timeout),document.activeElement!==$datepicker[0]&&$datepicker.focus(),!1}),$calendar.on("click",function(){clearTimeout($datepicker.timeout),document.activeElement!==$datepicker[0]&&$datepicker.focus()})),data.keyboardNavigation&&$(document).on("keydown",gj.datepicker.methods.createKeyDownHandler($datepicker,$calendar,data))},createCalendar:function($datepicker,data){var date,$body,$footer,$btnCancel,$btnOk,$calendar=$('<div role="calendar" type="month"/>').addClass(data.style.calendar).attr("guid",$datepicker.attr("data-guid"));return data.fontSize&&$calendar.css("font-size",data.fontSize),!(date=gj.core.parseDate(data.value,data.format,data.locale))||isNaN(date.getTime())?date=new Date:$datepicker.attr("day",date.getFullYear()+"-"+date.getMonth()+"-"+date.getDate()),$calendar.attr("month",date.getMonth()),$calendar.attr("year",date.getFullYear()),gj.datepicker.methods.renderHeader($datepicker,$calendar,data,date),$body=$('<div role="body" />'),$calendar.append($body),data.footer&&($footer=$('<div role="footer" class="'+data.style.footer+'" />'),($btnCancel=$('<button class="'+data.style.button+'">'+gj.core.messages[data.locale].cancel+"</button>")).on("click",function(){$datepicker.close()}),$footer.append($btnCancel),($btnOk=$('<button class="'+data.style.button+'">'+gj.core.messages[data.locale].ok+"</button>")).on("click",function(){var date,dayArr,dayStr=$calendar.attr("selectedDay");dayStr?(dayArr=dayStr.split("-"),date=new Date(dayArr[0],dayArr[1],dayArr[2],$calendar.attr("hour")||0,$calendar.attr("minute")||0),gj.datepicker.methods.change($datepicker,$calendar,data,date)):$datepicker.close()}),$footer.append($btnOk),$calendar.append($footer)),$calendar.hide(),$("body").append($calendar),data.modal&&($calendar.wrapAll('<div role="modal" class="'+data.style.modal+'"/>'),gj.core.center($calendar)),$calendar},renderHeader:function($datepicker,$calendar,data,date){var $header,$date,$year;data.header&&($header=$('<div role="header" />'),($year=$('<div role="year" />').on("click",function(){gj.datepicker.methods.renderDecade($datepicker,$calendar,data),$year.addClass("selected"),$date.removeClass("selected")})).html(gj.core.formatDate(date,"yyyy",data.locale)),$header.append($year),($date=$('<div role="date" class="selected" />').on("click",function(){gj.datepicker.methods.renderMonth($datepicker,$calendar,data),$date.addClass("selected"),$year.removeClass("selected")})).html(gj.core.formatDate(date,"ddd, mmm dd",data.locale)),$header.append($date),$calendar.append($header))},updateHeader:function($calendar,data,date){$calendar.find('[role="header"] [role="year"]').removeClass("selected").html(gj.core.formatDate(date,"yyyy",data.locale)),$calendar.find('[role="header"] [role="date"]').addClass("selected").html(gj.core.formatDate(date,"ddd, mmm dd",data.locale)),$calendar.find('[role="header"] [role="hour"]').removeClass("selected").html(gj.core.formatDate(date,"HH",data.locale)),$calendar.find('[role="header"] [role="minute"]').removeClass("selected").html(gj.core.formatDate(date,"MM",data.locale))},createNavigation:function($datepicker,$body,$table,data){var $row,$navigator,$thead=$("<thead/>");for(($navigator=$('<div role="navigator" />')).append($("<div>"+data.icons.previousMonth+"</div>").on("click",gj.datepicker.methods.prev($datepicker,data))),$navigator.append($('<div role="period"></div>').on("click",gj.datepicker.methods.changePeriod($datepicker,data))),$navigator.append($("<div>"+data.icons.nextMonth+"</div>").on("click",gj.datepicker.methods.next($datepicker,data))),$body.append($navigator),$row=$('<tr role="week-days" />'),data.calendarWeeks&&$row.append("<th><div>&nbsp;</div></th>"),i=data.weekStartDay;i<gj.core.messages[data.locale].weekDaysMin.length;i++)$row.append("<th><div>"+gj.core.messages[data.locale].weekDaysMin[i]+"</div></th>");for(i=0;i<data.weekStartDay;i++)$row.append("<th><div>"+gj.core.messages[data.locale].weekDaysMin[i]+"</div></th>");$thead.append($row),$table.append($thead)},renderMonth:function($datepicker,$calendar,data){var weekDay,selectedDay,day,month,year,daysInMonth,total,firstDayPosition,i,now,prevMonth,nextMonth,$cell,$day,date,$body=$calendar.children('[role="body"]'),$table=$("<table/>"),$tbody=$("<tbody/>"),period=gj.core.messages[data.locale].titleFormat;for($body.off().empty(),gj.datepicker.methods.createNavigation($datepicker,$body,$table,data),month=parseInt($calendar.attr("month"),10),year=parseInt($calendar.attr("year"),10),$calendar.attr("type","month"),period=period.replace("mmmm",gj.core.messages[data.locale].monthNames[month]).replace("yyyy",year),$calendar.find('div[role="period"]').text(period),daysInMonth=new Array(31,28,31,30,31,30,31,31,30,31,30,31),year%4==0&&1900!=year&&(daysInMonth[1]=29),total=daysInMonth[month],firstDayPosition=(new Date(year,month,1).getDay()+7-data.weekStartDay)%7,weekDay=0,$row=$("<tr />"),prevMonth=gj.datepicker.methods.getPrevMonth(month,year),i=1;i<=firstDayPosition;i++)day=daysInMonth[prevMonth.month]-firstDayPosition+i,date=new Date(prevMonth.year,prevMonth.month,day),data.calendarWeeks&&1===i&&$row.append('<td class="calendar-week"><div>'+gj.datepicker.methods.getWeekNumber(date)+"</div></td>"),$cell=$('<td class="other-month" />'),data.showOtherMonths&&($day=$("<div>"+day+"</div>"),$cell.append($day),data.selectOtherMonths&&gj.datepicker.methods.isSelectable(data,date)?($cell.addClass("gj-cursor-pointer").attr("day",day).attr("month",prevMonth.month).attr("year",prevMonth.year),$day.on("click",gj.datepicker.methods.dayClickHandler($datepicker,$calendar,data,date)),$day.on("mousedown",function(e){e.stopPropagation()})):$cell.addClass("disabled")),$row.append($cell),weekDay++;for(i>1&&$tbody.append($row),now=new Date,i=1;i<=total;i++)date=new Date(year,month,i),0==weekDay&&($row=$("<tr>"),data.calendarWeeks&&$row.append('<td class="calendar-week"><div>'+gj.datepicker.methods.getWeekNumber(date)+"</div></td>")),$cell=$('<td day="'+i+'" month="'+month+'" year="'+year+'" />'),year===now.getFullYear()&&month===now.getMonth()&&i===now.getDate()?$cell.addClass("today"):$cell.addClass("current-month"),$day=$("<div>"+i+"</div>"),gj.datepicker.methods.isSelectable(data,date)?($cell.addClass("gj-cursor-pointer"),$day.on("click",gj.datepicker.methods.dayClickHandler($datepicker,$calendar,data,date)),$day.on("mousedown",function(e){e.stopPropagation()})):$cell.addClass("disabled"),$cell.append($day),$row.append($cell),7==++weekDay&&($tbody.append($row),weekDay=0);for(nextMonth=gj.datepicker.methods.getNextMonth(month,year),i=1;0!=weekDay;i++)date=new Date(nextMonth.year,nextMonth.month,i),$cell=$('<td class="other-month" />'),data.showOtherMonths&&($day=$("<div>"+i+"</div>"),data.selectOtherMonths&&gj.datepicker.methods.isSelectable(data,date)?($cell.addClass("gj-cursor-pointer").attr("day",i).attr("month",nextMonth.month).attr("year",nextMonth.year),$day.on("click",gj.datepicker.methods.dayClickHandler($datepicker,$calendar,data,date)),$day.on("mousedown",function(e){e.stopPropagation()})):$cell.addClass("disabled"),$cell.append($day)),$row.append($cell),7==++weekDay&&($tbody.append($row),weekDay=0);$table.append($tbody),$body.append($table),$calendar.attr("selectedDay")&&(selectedDay=$calendar.attr("selectedDay").split("-"),date=new Date(selectedDay[0],selectedDay[1],selectedDay[2],$calendar.attr("hour")||0,$calendar.attr("minute")||0),$calendar.find('tbody td[day="'+selectedDay[2]+'"][month="'+selectedDay[1]+'"]').addClass("selected"),gj.datepicker.methods.updateHeader($calendar,data,date))},renderYear:function($datepicker,$calendar,data){var year,i,m,$month,$table=$calendar.find('>[role="body"]>table'),$tbody=$table.children("tbody");for($table.children("thead").hide(),year=parseInt($calendar.attr("year"),10),$calendar.attr("type","year"),$calendar.find('div[role="period"]').text(year),$tbody.empty(),i=0;i<3;i++){for($row=$("<tr />"),m=4*i;m<=4*i+3;m++)($month=$("<div>"+gj.core.messages[data.locale].monthShortNames[m]+"</div>")).on("click",gj.datepicker.methods.selectMonth($datepicker,$calendar,data,m)),$cell=$("<td></td>").append($month),$row.append($cell);$tbody.append($row)}},renderDecade:function($datepicker,$calendar,data){var year,decade,i,y,$year,$table=$calendar.find('>[role="body"]>table'),$tbody=$table.children("tbody");for($table.children("thead").hide(),decade=(year=parseInt($calendar.attr("year"),10))-year%10,$calendar.attr("type","decade"),$calendar.find('div[role="period"]').text(decade+" - "+(decade+9)),$tbody.empty(),i=decade-1;i<=decade+10;i+=4){for($row=$("<tr />"),y=i;y<=i+3;y++)($year=$("<div>"+y+"</div>")).on("click",gj.datepicker.methods.selectYear($datepicker,$calendar,data,y)),$cell=$("<td></td>").append($year),$row.append($cell);$tbody.append($row)}},renderCentury:function($datepicker,$calendar,data){var year,century,i,d,$decade,$table=$calendar.find('>[role="body"]>table'),$tbody=$table.children("tbody");for($table.children("thead").hide(),century=(year=parseInt($calendar.attr("year"),10))-year%100,$calendar.attr("type","century"),$calendar.find('div[role="period"]').text(century+" - "+(century+99)),$tbody.empty(),i=century-10;i<century+100;i+=40){for($row=$("<tr />"),d=i;d<=i+30;d+=10)($decade=$("<div>"+d+"</div>")).on("click",gj.datepicker.methods.selectDecade($datepicker,$calendar,data,d)),$cell=$("<td></td>").append($decade),$row.append($cell);$tbody.append($row)}},getWeekNumber:function(date){var d=new Date(date.valueOf());d.setDate(d.getDate()+6),(d=new Date(Date.UTC(d.getFullYear(),d.getMonth(),d.getDate()))).setUTCDate(d.getUTCDate()+4-(d.getUTCDay()||7));var yearStart=new Date(Date.UTC(d.getUTCFullYear(),0,1)),weekNo;return Math.ceil(((d-yearStart)/864e5+1)/7)},getMinDate:function(data){var minDate;return data.minDate&&("string"==typeof data.minDate?minDate=gj.core.parseDate(data.minDate,data.format,data.locale):"function"==typeof data.minDate?"string"==typeof(minDate=data.minDate())&&(minDate=gj.core.parseDate(minDate,data.format,data.locale)):"function"==typeof data.minDate.getMonth&&(minDate=data.minDate)),minDate},getMaxDate:function(data){var maxDate;return data.maxDate&&("string"==typeof data.maxDate?maxDate=gj.core.parseDate(data.maxDate,data.format,data.locale):"function"==typeof data.maxDate?"string"==typeof(maxDate=data.maxDate())&&(maxDate=gj.core.parseDate(maxDate,data.format,data.locale)):"function"==typeof data.maxDate.getMonth&&(maxDate=data.maxDate)),maxDate},isSelectable:function(data,date){var result=!0,minDate=gj.datepicker.methods.getMinDate(data),maxDate=gj.datepicker.methods.getMaxDate(data),i;if(minDate&&date<minDate?result=!1:maxDate&&date>maxDate&&(result=!1),result){if(data.disableDates)if($.isArray(data.disableDates))for(i=0;i<data.disableDates.length;i++)data.disableDates[i]instanceof Date&&data.disableDates[i].getTime()===date.getTime()?result=!1:"string"==typeof data.disableDates[i]&&gj.core.parseDate(data.disableDates[i],data.format,data.locale).getTime()===date.getTime()&&(result=!1);else data.disableDates instanceof Function&&(result=data.disableDates(date));$.isArray(data.disableDaysOfWeek)&&data.disableDaysOfWeek.indexOf(date.getDay())>-1&&(result=!1)}return result},getPrevMonth:function(month,year){return date=new Date(year,month,1),date.setMonth(date.getMonth()-1),{month:date.getMonth(),year:date.getFullYear()}},getNextMonth:function(month,year){return date=new Date(year,month,1),date.setMonth(date.getMonth()+1),{month:date.getMonth(),year:date.getFullYear()}},prev:function($datepicker,data){return function(){var date,month,year,decade,century,$calendar=$("body").find('[role="calendar"][guid="'+$datepicker.attr("data-guid")+'"]');switch(year=parseInt($calendar.attr("year"),10),$calendar.attr("type")){case"month":month=parseInt($calendar.attr("month"),10),date=gj.datepicker.methods.getPrevMonth(month,year),$calendar.attr("month",date.month),$calendar.attr("year",date.year),gj.datepicker.methods.renderMonth($datepicker,$calendar,data);break;case"year":$calendar.attr("year",year-1),gj.datepicker.methods.renderYear($datepicker,$calendar,data);break;case"decade":decade=year-year%10,$calendar.attr("year",decade-10),gj.datepicker.methods.renderDecade($datepicker,$calendar,data);break;case"century":century=year-year%100,$calendar.attr("year",century-100),gj.datepicker.methods.renderCentury($datepicker,$calendar,data)}}},next:function($datepicker,data){return function(){var date,month,year,decade,century,$calendar=$("body").find('[role="calendar"][guid="'+$datepicker.attr("data-guid")+'"]');switch(year=parseInt($calendar.attr("year"),10),$calendar.attr("type")){case"month":month=parseInt($calendar.attr("month"),10),date=gj.datepicker.methods.getNextMonth(month,year),$calendar.attr("month",date.month),$calendar.attr("year",date.year),gj.datepicker.methods.renderMonth($datepicker,$calendar,data);break;case"year":$calendar.attr("year",year+1),gj.datepicker.methods.renderYear($datepicker,$calendar,data);break;case"decade":decade=year-year%10,$calendar.attr("year",decade+10),gj.datepicker.methods.renderDecade($datepicker,$calendar,data);break;case"century":century=year-year%100,$calendar.attr("year",century+100),gj.datepicker.methods.renderCentury($datepicker,$calendar,data)}}},changePeriod:function($datepicker,data){return function(e){var $calendar=$("body").find('[role="calendar"][guid="'+$datepicker.attr("data-guid")+'"]');switch($calendar.attr("type")){case"month":gj.datepicker.methods.renderYear($datepicker,$calendar,data);break;case"year":gj.datepicker.methods.renderDecade($datepicker,$calendar,data);break;case"decade":gj.datepicker.methods.renderCentury($datepicker,$calendar,data)}}},dayClickHandler:function($datepicker,$calendar,data,date){return function(e){return e&&e.stopPropagation(),gj.datepicker.methods.selectDay($datepicker,$calendar,data,date),!0!==data.footer&&!1!==data.autoClose&&gj.datepicker.methods.change($datepicker,$calendar,data,date),$datepicker}},change:function($datepicker,$calendar,data,date){var day=date.getDate(),month=date.getMonth(),year=date.getFullYear(),value=gj.core.formatDate(date,data.format,data.locale);$calendar.attr("month",month),$calendar.attr("year",year),$datepicker.val(value),gj.datepicker.events.change($datepicker),"none"!==window.getComputedStyle($calendar[0]).display&&gj.datepicker.methods.close($datepicker)},selectDay:function($datepicker,$calendar,data,date){var day=date.getDate(),month=date.getMonth(),year=date.getFullYear();$calendar.attr("selectedDay",year+"-"+month+"-"+day),$calendar.find("tbody td").removeClass("selected"),$calendar.find('tbody td[day="'+day+'"][month="'+month+'"]').addClass("selected"),gj.datepicker.methods.updateHeader($calendar,data,date),gj.datepicker.events.select($datepicker,"day")},selectMonth:function($datepicker,$calendar,data,month){return function(e){$calendar.attr("month",month),gj.datepicker.methods.renderMonth($datepicker,$calendar,data),gj.datepicker.events.select($datepicker,"month")}},selectYear:function($datepicker,$calendar,data,year){return function(e){$calendar.attr("year",year),gj.datepicker.methods.renderYear($datepicker,$calendar,data),gj.datepicker.events.select($datepicker,"year")}},selectDecade:function($datepicker,$calendar,data,year){return function(e){$calendar.attr("year",year),gj.datepicker.methods.renderDecade($datepicker,$calendar,data),gj.datepicker.events.select($datepicker,"decade")}},open:function($datepicker,data){var date,$calendar=$("body").find('[role="calendar"][guid="'+$datepicker.attr("data-guid")+'"]');switch($datepicker.val()?$datepicker.value($datepicker.val()):(date=new Date,$calendar.attr("month",date.getMonth()),$calendar.attr("year",date.getFullYear())),$calendar.attr("type")){case"month":gj.datepicker.methods.renderMonth($datepicker,$calendar,data);break;case"year":gj.datepicker.methods.renderYear($datepicker,$calendar,data);break;case"decade":gj.datepicker.methods.renderDecade($datepicker,$calendar,data);break;case"century":gj.datepicker.methods.renderCentury($datepicker,$calendar,data)}$calendar.show(),$calendar.closest('div[role="modal"]').show(),data.modal?gj.core.center($calendar):(gj.core.setChildPosition($datepicker[0],$calendar[0]),document.activeElement!==$datepicker[0]&&$datepicker.focus()),clearTimeout($datepicker.timeout),gj.datepicker.events.open($datepicker)},close:function($datepicker){var $calendar=$("body").find('[role="calendar"][guid="'+$datepicker.attr("data-guid")+'"]');$calendar.hide(),$calendar.closest('div[role="modal"]').hide(),gj.datepicker.events.close($datepicker)},createKeyDownHandler:function($datepicker,$calendar,data){return function(e){var month,year,day,index,$new,$active,e=e||window.event;"none"!==window.getComputedStyle($calendar[0]).display&&($active=gj.datepicker.methods.getActiveCell($calendar),"38"==e.keyCode?(index=$active.index(),($new=$active.closest("tr").prev("tr").find("td:eq("+index+")")).is("[day]")||(gj.datepicker.methods.prev($datepicker,data)(),($new=$calendar.find("tbody tr").last().find("td:eq("+index+")")).is(":empty")&&($new=$calendar.find("tbody tr").last().prev().find("td:eq("+index+")"))),$new.is("[day]")&&($new.addClass("focused"),$active.removeClass("focused"))):"40"==e.keyCode?(index=$active.index(),($new=$active.closest("tr").next("tr").find("td:eq("+index+")")).is("[day]")||(gj.datepicker.methods.next($datepicker,data)(),($new=$calendar.find("tbody tr").first().find("td:eq("+index+")")).is("[day]")||($new=$calendar.find("tbody tr:eq(1)").find("td:eq("+index+")"))),$new.is("[day]")&&($new.addClass("focused"),$active.removeClass("focused"))):"37"==e.keyCode?(0===($new=$active.prev("td[day]:not(.disabled)")).length&&($new=$active.closest("tr").prev("tr").find("td[day]").last()),0===$new.length&&(gj.datepicker.methods.prev($datepicker,data)(),$new=$calendar.find("tbody tr").last().find("td[day]").last()),$new.length>0&&($new.addClass("focused"),$active.removeClass("focused"))):"39"==e.keyCode?(0===($new=$active.next("[day]:not(.disabled)")).length&&($new=$active.closest("tr").next("tr").find("td[day]").first()),0===$new.length&&(gj.datepicker.methods.next($datepicker,data)(),$new=$calendar.find("tbody tr").first().find("td[day]").first()),$new.length>0&&($new.addClass("focused"),$active.removeClass("focused"))):"13"==e.keyCode?(day=parseInt($active.attr("day"),10),month=parseInt($active.attr("month"),10),year=parseInt($active.attr("year"),10),gj.datepicker.methods.dayClickHandler($datepicker,$calendar,data,new Date(year,month,day))()):"27"==e.keyCode&&$datepicker.close())}},getActiveCell:function($calendar){var $cell=$calendar.find("td[day].focused");return 0===$cell.length&&0===($cell=$calendar.find("td[day].selected")).length&&0===($cell=$calendar.find("td[day].today")).length&&($cell=$calendar.find("td[day]:not(.disabled)").first()),$cell},value:function($datepicker,value){var $calendar,date,data=$datepicker.data();return void 0===value?$datepicker.val():((date=gj.core.parseDate(value,data.format,data.locale))&&date.getTime()?($calendar=$("body").find('[role="calendar"][guid="'+$datepicker.attr("data-guid")+'"]'),gj.datepicker.methods.dayClickHandler($datepicker,$calendar,data,date)()):$datepicker.val(""),$datepicker)},destroy:function($datepicker){var data=$datepicker.data(),$parent=$datepicker.parent(),$picker=$("body").find('[role="calendar"][guid="'+$datepicker.attr("data-guid")+'"]');return data&&($datepicker.off(),$picker.parent('[role="modal"]').length>0&&$picker.unwrap(),$picker.remove(),$datepicker.removeData(),$datepicker.removeAttr("data-type").removeAttr("data-guid").removeAttr("data-datepicker"),$datepicker.removeClass(),$parent.children('[role="right-icon"]').remove(),$datepicker.unwrap()),$datepicker}},gj.datepicker.events={change:function($datepicker){return $datepicker.triggerHandler("change")},select:function($datepicker,type){return $datepicker.triggerHandler("select",[type])},open:function($datepicker){return $datepicker.triggerHandler("open")},close:function($datepicker){return $datepicker.triggerHandler("close")}},gj.datepicker.widget=function($element,jsConfig){var self=this,methods=gj.datepicker.methods;return this.value=function(value){return methods.value(this,value)},this.destroy=function(){return methods.destroy(this)},this.open=function(){return methods.open(this,this.data())},this.close=function(){return methods.close(this)},$.extend($element,this),"true"!==$element.attr("data-datepicker")&&methods.init.call($element,jsConfig),$element},gj.datepicker.widget.prototype=new gj.widget,gj.datepicker.widget.constructor=gj.datepicker.widget,function($){$.fn.datepicker=function(method){var $widget;if(this&&this.length){if("object"!=typeof method&&method){if(($widget=new gj.datepicker.widget(this,null))[method])return $widget[method].apply(this,Array.prototype.slice.call(arguments,1));throw"Method "+method+" does not exist."}return new gj.datepicker.widget(this,method)}}}(jQuery);